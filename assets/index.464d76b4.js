(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerpolicy&&(l.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?l.credentials="include":i.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=t(i);fetch(i.href,l)}})();function le(){}function xt(n){return n()}function Ye(){return Object.create(null)}function ae(n){n.forEach(xt)}function Tt(n){return typeof n=="function"}function be(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function Yt(n){return Object.keys(n).length===0}function Gt(n,...e){if(n==null)return le;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function jt(n,e,t){n.$$.on_destroy.push(Gt(e,t))}const Kt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function a(n,e){n.appendChild(e)}function C(n,e,t){n.insertBefore(e,t||null)}function D(n){n.parentNode&&n.parentNode.removeChild(n)}function f(n){return document.createElement(n)}function de(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function z(n){return document.createTextNode(n)}function j(){return z(" ")}function Ie(){return z("")}function R(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function c(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Ut(n){let e;return{p(...t){e=t,e.forEach(r=>n.push(r))},r(){e.forEach(t=>n.splice(n.indexOf(t),1))}}}function Zt(n){return Array.from(n.childNodes)}function U(n,e){e=""+e,n.data!==e&&(n.data=e)}function ge(n,e){n.value=e==null?"":e}function Ce(n,e,t,r){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,r?"important":"")}function Re(n,e,t){for(let r=0;r<n.options.length;r+=1){const i=n.options[r];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function Ge(n){const e=n.querySelector(":checked");return e&&e.__value}function Y(n,e,t){n.classList[t?"add":"remove"](e)}function Qt(n,e,{bubbles:t=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t,r,e),i}let Pe;function Ee(n){Pe=n}function We(){if(!Pe)throw new Error("Function called outside component initialization");return Pe}function qe(n){We().$$.on_mount.push(n)}function Dt(n){We().$$.on_destroy.push(n)}function Ct(){const n=We();return(e,t,{cancelable:r=!1}={})=>{const i=n.$$.callbacks[e];if(i){const l=Qt(e,t,{cancelable:r});return i.slice().forEach(u=>{u.call(n,l)}),!l.defaultPrevented}return!0}}const je=[],ze=[];let De=[];const Ke=[],Xt=Promise.resolve();let Fe=!1;function $t(){Fe||(Fe=!0,Xt.then(It))}function Ne(n){De.push(n)}const Je=new Set;let xe=0;function It(){if(xe!==0)return;const n=Pe;do{try{for(;xe<je.length;){const e=je[xe];xe++,Ee(e),en(e.$$)}}catch(e){throw je.length=0,xe=0,e}for(Ee(null),je.length=0,xe=0;ze.length;)ze.pop()();for(let e=0;e<De.length;e+=1){const t=De[e];Je.has(t)||(Je.add(t),t())}De.length=0}while(je.length);for(;Ke.length;)Ke.pop()();Fe=!1,Je.clear(),Ee(n)}function en(n){if(n.fragment!==null){n.update(),ae(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Ne)}}function tn(n){const e=[],t=[];De.forEach(r=>n.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),De=e}const Be=new Set;let _e;function ke(){_e={r:0,c:[],p:_e}}function ye(){_e.r||ae(_e.c),_e=_e.p}function Z(n,e){n&&n.i&&(Be.delete(n),n.i(e))}function te(n,e,t,r){if(n&&n.o){if(Be.has(n))return;Be.add(n),_e.c.push(()=>{Be.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}function Ot(n,e){n.d(1),e.delete(n.key)}function Ve(n,e){te(n,1,1,()=>{e.delete(n.key)})}function He(n,e,t,r,i,l,u,o,d,s,m,p){let h=n.length,v=l.length,g=h;const _={};for(;g--;)_[n[g].key]=g;const b=[],x=new Map,S=new Map,y=[];for(g=v;g--;){const M=p(i,l,g),L=t(M);let A=u.get(L);A?r&&y.push(()=>A.p(M,e)):(A=s(L,M),A.c()),x.set(L,b[g]=A),L in _&&S.set(L,Math.abs(g-_[L]))}const k=new Set,w=new Set;function E(M){Z(M,1),M.m(o,m),u.set(M.key,M),m=M.first,v--}for(;h&&v;){const M=b[v-1],L=n[h-1],A=M.key,H=L.key;M===L?(m=M.first,h--,v--):x.has(H)?!u.has(A)||k.has(A)?E(M):w.has(H)?h--:S.get(A)>S.get(H)?(w.add(A),E(M)):(k.add(H),h--):(d(L,u),h--)}for(;h--;){const M=n[h];x.has(M.key)||d(M,u)}for(;v;)E(b[v-1]);return ae(y),b}function ve(n){n&&n.c()}function me(n,e,t,r){const{fragment:i,after_update:l}=n.$$;i&&i.m(e,t),r||Ne(()=>{const u=n.$$.on_mount.map(xt).filter(Tt);n.$$.on_destroy?n.$$.on_destroy.push(...u):ae(u),n.$$.on_mount=[]}),l.forEach(Ne)}function he(n,e){const t=n.$$;t.fragment!==null&&(tn(t.after_update),ae(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function nn(n,e){n.$$.dirty[0]===-1&&(je.push(n),$t(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function we(n,e,t,r,i,l,u,o=[-1]){const d=Pe;Ee(n);const s=n.$$={fragment:null,ctx:[],props:l,update:le,not_equal:i,bound:Ye(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:Ye(),dirty:o,skip_bound:!1,root:e.target||d.$$.root};u&&u(s.root);let m=!1;if(s.ctx=t?t(n,e.props||{},(p,h,...v)=>{const g=v.length?v[0]:h;return s.ctx&&i(s.ctx[p],s.ctx[p]=g)&&(!s.skip_bound&&s.bound[p]&&s.bound[p](g),m&&nn(n,p)),h}):[],s.update(),m=!0,ae(s.before_update),s.fragment=r?r(s.ctx):!1,e.target){if(e.hydrate){const p=Zt(e.target);s.fragment&&s.fragment.l(p),p.forEach(D)}else s.fragment&&s.fragment.c();e.intro&&Z(n.$$.fragment),me(n,e.target,e.anchor,e.customElement),It()}Ee(d)}class Se{$destroy(){he(this,1),this.$destroy=le}$on(e,t){if(!Tt(t))return le;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Yt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class rn extends Se{constructor(e){super(),we(this,e,null,null,be,{})}}const Te=[];function ln(n,e=le){let t;const r=new Set;function i(o){if(be(n,o)&&(n=o,t)){const d=!Te.length;for(const s of r)s[1](),Te.push(s,n);if(d){for(let s=0;s<Te.length;s+=2)Te[s][0](Te[s+1]);Te.length=0}}}function l(o){i(o(n))}function u(o,d=le){const s=[o,d];return r.add(s),r.size===1&&(t=e(i)||le),o(n),()=>{r.delete(s),r.size===0&&t&&(t(),t=null)}}return{set:i,update:l,subscribe:u}}const fe="game-todo-data",on={projects:[],settings:{theme:"light"},uiState:{expandedProjects:{},expandedSections:{}}};function sn(){const{subscribe:n,set:e,update:t}=ln(on);return{subscribe:n,init:()=>{if(typeof window<"u"){const r=localStorage.getItem(fe);if(r)try{const i=JSON.parse(r);i.uiState||(i.uiState={expandedProjects:{},expandedSections:{}}),e(i)}catch(i){console.error("Failed to parse stored todo data:",i)}}},save:r=>{typeof window<"u"&&localStorage.setItem(fe,JSON.stringify(r)),e(r)},addProject:r=>{t(i=>{const l={...i,projects:[...i.projects,r]};return typeof window<"u"&&localStorage.setItem(fe,JSON.stringify(l)),l})},updateProject:(r,i)=>{t(l=>{const u={...l,projects:l.projects.map(o=>o.id===r?{...o,...i}:o)};return typeof window<"u"&&localStorage.setItem(fe,JSON.stringify(u)),u})},deleteProject:r=>{t(i=>{const l={...i,projects:i.projects.filter(u=>u.id!==r)};return typeof window<"u"&&localStorage.setItem(fe,JSON.stringify(l)),l})},updateTodoStatus:(r,i,l)=>{t(u=>{const o={...u,projects:u.projects.map(d=>d.id===r?{...d,items:d.items.map(s=>s.id===i?{...s,status:l}:s)}:d)};return typeof window<"u"&&localStorage.setItem(fe,JSON.stringify(o)),o})},addTodoItem:(r,i)=>{t(l=>{const u={...l,projects:l.projects.map(o=>o.id===r?{...o,items:[...o.items,i]}:o)};return typeof window<"u"&&localStorage.setItem(fe,JSON.stringify(u)),u})},updateSettings:r=>{t(i=>{const l={...i,settings:{...i.settings,...r}};return typeof window<"u"&&localStorage.setItem(fe,JSON.stringify(l)),l})},checkResets:()=>{t(r=>{const i=Date.now();let l=!1;const u={...r,projects:r.projects.map(o=>({...o,items:o.items.map(d=>an(d.resetTime,d.lastReset,i)?(l=!0,{...d,status:"pending",lastReset:i}):d)}))};return l&&typeof window<"u"&&localStorage.setItem(fe,JSON.stringify(u)),u})},toggleProjectExpanded:r=>{t(i=>{const l={...i,uiState:{...i.uiState,expandedProjects:{...i.uiState.expandedProjects,[r]:!i.uiState.expandedProjects[r]}}};return typeof window<"u"&&localStorage.setItem(fe,JSON.stringify(l)),l})},toggleSectionExpanded:r=>{t(i=>{const l={...i,uiState:{...i.uiState,expandedSections:{...i.uiState.expandedSections,[r]:!i.uiState.expandedSections[r]}}};return typeof window<"u"&&localStorage.setItem(fe,JSON.stringify(l)),l})}}}function an(n,e,t){const r=new Date(t);if(n.type==="daily"){const[i,l]=n.time.split(":").map(Number),u=new Date(r);return u.setHours(i,l,0,0),r<u&&u.setDate(u.getDate()-1),e<u.getTime()}else if(n.type==="weekly"){const[i,l]=n.time.split(":").map(Number),u=n.weekday||0,o=new Date(r),d=o.getDay()-u;return o.setDate(o.getDate()-(d>=0?d:d+7)),o.setHours(i,l,0,0),r<o&&o.setDate(o.getDate()-7),e<o.getTime()}return!1}const se=sn();function Ue(n,e,t){const r=n.slice();return r[13]=e[t],r}function dn(n){let e,t,r,i,l,u=n[0].name+"",o,d,s,m,p=n[9](n[0].resetTime)+"",h,v,g,_,b,x,S,y=n[0].status==="completed"&&Ze(),k=n[0].description&&Qe(n);return{c(){e=f("button"),y&&y.c(),t=j(),r=f("div"),i=f("div"),l=f("h4"),o=z(u),d=j(),s=f("div"),m=f("div"),h=z(p),v=j(),g=f("div"),_=z(n[4]),b=j(),k&&k.c(),c(e,"class","flex-shrink-0 w-5 h-5 rounded border-2 border-gray-300 dark:border-gray-600 flex items-center justify-center transition-all duration-200 hover:border-indigo-400"),Y(e,"bg-indigo-500",n[0].status==="completed"),Y(e,"border-indigo-500",n[0].status==="completed"),Y(e,"dark:border-indigo-400",n[0].status==="completed"),Y(e,"dark:bg-indigo-400",n[0].status==="completed"),c(l,"class","font-medium transition-colors"),Y(l,"text-gray-900",n[0].status==="pending"),Y(l,"dark:text-white",n[0].status==="pending"),Y(l,"text-gray-500",n[0].status==="completed"),Y(l,"dark:text-gray-400",n[0].status==="completed"),Y(l,"line-through",n[0].status==="completed"),c(m,"class","text-xs text-gray-500 dark:text-gray-400"),c(g,"class","text-xs text-indigo-600 dark:text-indigo-400 font-medium"),c(s,"class","text-right ml-2"),c(i,"class","flex items-start justify-between"),c(r,"class","flex-1")},m(w,E){C(w,e,E),y&&y.m(e,null),C(w,t,E),C(w,r,E),a(r,i),a(i,l),a(l,o),a(i,d),a(i,s),a(s,m),a(m,h),a(s,v),a(s,g),a(g,_),a(r,b),k&&k.m(r,null),x||(S=R(e,"click",n[8]),x=!0)},p(w,E){w[0].status==="completed"?y||(y=Ze(),y.c(),y.m(e,null)):y&&(y.d(1),y=null),E&1&&Y(e,"bg-indigo-500",w[0].status==="completed"),E&1&&Y(e,"border-indigo-500",w[0].status==="completed"),E&1&&Y(e,"dark:border-indigo-400",w[0].status==="completed"),E&1&&Y(e,"dark:bg-indigo-400",w[0].status==="completed"),E&1&&u!==(u=w[0].name+"")&&U(o,u),E&1&&Y(l,"text-gray-900",w[0].status==="pending"),E&1&&Y(l,"dark:text-white",w[0].status==="pending"),E&1&&Y(l,"text-gray-500",w[0].status==="completed"),E&1&&Y(l,"dark:text-gray-400",w[0].status==="completed"),E&1&&Y(l,"line-through",w[0].status==="completed"),E&1&&p!==(p=w[9](w[0].resetTime)+"")&&U(h,p),E&16&&U(_,w[4]),w[0].description?k?k.p(w,E):(k=Qe(w),k.c(),k.m(r,null)):k&&(k.d(1),k=null)},d(w){w&&D(e),y&&y.d(),w&&D(t),w&&D(r),k&&k.d(),x=!1,S()}}}function un(n){let e,t,r,i,l,u,o,d,s,m=n[0].name+"",p,h,v,g,_=n[0].description&&Xe(n);return{c(){e=f("button"),t=de("svg"),r=de("path"),l=j(),u=f("div"),o=j(),d=f("div"),s=f("h4"),p=z(m),h=j(),_&&_.c(),c(r,"stroke-linecap","round"),c(r,"stroke-linejoin","round"),c(r,"stroke-width","2"),c(r,"d","M9 5l7 7-7 7"),c(t,"class",i="w-4 h-4 text-gray-400 dark:text-gray-500 transform transition-transform "+(n[5]?"rotate-90":"")),c(t,"fill","none"),c(t,"stroke","currentColor"),c(t,"viewBox","0 0 24 24"),c(u,"class","w-2 h-8 bg-indigo-500 rounded-full flex-shrink-0"),c(s,"class","font-semibold text-gray-900 dark:text-white text-base"),c(d,"class","flex-1"),c(e,"class","flex items-center gap-3 flex-1 text-left hover:bg-gray-100 dark:hover:bg-gray-700 rounded p-2 -m-2 transition-colors")},m(b,x){C(b,e,x),a(e,t),a(t,r),a(e,l),a(e,u),a(e,o),a(e,d),a(d,s),a(s,p),a(d,h),_&&_.m(d,null),v||(g=R(e,"click",n[7]),v=!0)},p(b,x){x&32&&i!==(i="w-4 h-4 text-gray-400 dark:text-gray-500 transform transition-transform "+(b[5]?"rotate-90":""))&&c(t,"class",i),x&1&&m!==(m=b[0].name+"")&&U(p,m),b[0].description?_?_.p(b,x):(_=Xe(b),_.c(),_.m(d,null)):_&&(_.d(1),_=null)},d(b){b&&D(e),_&&_.d(),v=!1,g()}}}function Ze(n){let e,t;return{c(){e=de("svg"),t=de("path"),c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"stroke-width","3"),c(t,"d","M5 13l4 4L19 7"),c(e,"class","w-3 h-3 text-white"),c(e,"fill","none"),c(e,"stroke","currentColor"),c(e,"viewBox","0 0 24 24")},m(r,i){C(r,e,i),a(e,t)},d(r){r&&D(e)}}}function Qe(n){let e,t=n[0].description+"",r;return{c(){e=f("p"),r=z(t),c(e,"class","text-sm mt-1 transition-colors"),Y(e,"text-gray-600",n[0].status==="pending"),Y(e,"dark:text-gray-300",n[0].status==="pending"),Y(e,"text-gray-400",n[0].status==="completed"),Y(e,"dark:text-gray-500",n[0].status==="completed")},m(i,l){C(i,e,l),a(e,r)},p(i,l){l&1&&t!==(t=i[0].description+"")&&U(r,t),l&1&&Y(e,"text-gray-600",i[0].status==="pending"),l&1&&Y(e,"dark:text-gray-300",i[0].status==="pending"),l&1&&Y(e,"text-gray-400",i[0].status==="completed"),l&1&&Y(e,"dark:text-gray-500",i[0].status==="completed")},d(i){i&&D(e)}}}function Xe(n){let e,t=n[0].description+"",r;return{c(){e=f("p"),r=z(t),c(e,"class","text-sm text-gray-600 dark:text-gray-400 mt-1")},m(i,l){C(i,e,l),a(e,r)},p(i,l){l&1&&t!==(t=i[0].description+"")&&U(r,t)},d(i){i&&D(e)}}}function $e(n){let e=[],t=new Map,r,i,l=n[6];const u=o=>o[13].id;for(let o=0;o<l.length;o+=1){let d=Ue(n,l,o),s=u(d);t.set(s,e[o]=et(s,d))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();r=Ie()},m(o,d){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(o,d);C(o,r,d),i=!0},p(o,d){d&78&&(l=o[6],ke(),e=He(e,d,u,1,o,l,t,r.parentNode,Ve,et,r,Ue),ye())},i(o){if(!i){for(let d=0;d<l.length;d+=1)Z(e[d]);i=!0}},o(o){for(let d=0;d<e.length;d+=1)te(e[d]);i=!1},d(o){for(let d=0;d<e.length;d+=1)e[d].d(o);o&&D(r)}}}function et(n,e){let t,r,i;return r=new Mt({props:{item:e[13],projectId:e[1],allItems:e[2],depth:e[3]+1}}),{key:n,first:null,c(){t=Ie(),ve(r.$$.fragment),this.first=t},m(l,u){C(l,t,u),me(r,l,u),i=!0},p(l,u){e=l;const o={};u&64&&(o.item=e[13]),u&2&&(o.projectId=e[1]),u&4&&(o.allItems=e[2]),u&8&&(o.depth=e[3]+1),r.$set(o)},i(l){i||(Z(r.$$.fragment,l),i=!0)},o(l){te(r.$$.fragment,l),i=!1},d(l){l&&D(t),he(r,l)}}}function cn(n){let e,t,r,i,l;function u(m,p){return m[0].isSection?un:dn}let o=u(n),d=o(n),s=(!n[0].isSection||n[5])&&$e(n);return{c(){e=f("div"),t=f("div"),d.c(),i=j(),s&&s.c(),c(t,"class",r="flex items-center gap-3 p-3 rounded-lg transition-colors "+(n[0].isSection?"bg-white dark:bg-gray-800 border-l-4 border-l-indigo-500 shadow-sm":"bg-gray-50 dark:bg-gray-700/30 border border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700")),Y(t,"opacity-60",n[0].status==="completed"&&!n[0].isSection),c(e,"class","space-y-1"),Ce(e,"margin-left",n[3]*.75+"rem")},m(m,p){C(m,e,p),a(e,t),d.m(t,null),a(e,i),s&&s.m(e,null),l=!0},p(m,[p]){o===(o=u(m))&&d?d.p(m,p):(d.d(1),d=o(m),d&&(d.c(),d.m(t,null))),(!l||p&1&&r!==(r="flex items-center gap-3 p-3 rounded-lg transition-colors "+(m[0].isSection?"bg-white dark:bg-gray-800 border-l-4 border-l-indigo-500 shadow-sm":"bg-gray-50 dark:bg-gray-700/30 border border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700")))&&c(t,"class",r),(!l||p&1)&&Y(t,"opacity-60",m[0].status==="completed"&&!m[0].isSection),!m[0].isSection||m[5]?s?(s.p(m,p),p&33&&Z(s,1)):(s=$e(m),s.c(),Z(s,1),s.m(e,null)):s&&(ke(),te(s,1,1,()=>{s=null}),ye()),(!l||p&8)&&Ce(e,"margin-left",m[3]*.75+"rem")},i(m){l||(Z(s),l=!0)},o(m){te(s),l=!1},d(m){m&&D(e),d.d(),s&&s.d()}}}function fn(n){return n.split(":").map(Number)}function gn(n,e,t){const r=new Date(n);return r.setHours(e,t,0,0),n>=r&&r.setDate(r.getDate()+1),r}function pn(n,e,t,r){const i=new Date(n),l=n.getDay(),u=(r-l+7)%7;return i.setDate(i.getDate()+u),i.setHours(e,t,0,0),u===0&&n>=i&&i.setDate(i.getDate()+7),i}function mn(n){if(n<=0)return"Reset now";const e=Math.floor(n/(1e3*60*60)),t=Math.floor(n%(1e3*60*60)/(1e3*60));if(e>24){const r=Math.floor(e/24),i=e%24;return`${r}d ${i}h remaining`}else return e>0?`${e}h ${t}m remaining`:`${t}m remaining`}function tt(n){const e=new Date,[t,r]=fn(n.time);let i;n.type==="daily"?i=gn(e,t,r):i=pn(e,t,r,n.weekday||0);const l=i.getTime()-e.getTime();return mn(l)}function hn(n,e,t){let r,i;jt(n,se,b=>t(10,i=b));let{item:l}=e,{projectId:u}=e,{allItems:o}=e,{depth:d=0}=e,s="",m,p=!0;qe(()=>{l.isSection||(t(4,s=tt(l.resetTime)),m=setInterval(()=>{t(4,s=tt(l.resetTime))},6e4))}),Dt(()=>{m&&clearInterval(m)});function h(){l.isSection&&se.toggleSectionExpanded(l.id)}function v(){if(!l.isSection){const b=l.status==="completed"?"pending":"completed";se.updateTodoStatus(u,l.id,b)}}const g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function _(b){return b.type==="daily"?`Daily at ${b.time}`:`Weekly ${g[b.weekday||0]} at ${b.time}`}return n.$$set=b=>{"item"in b&&t(0,l=b.item),"projectId"in b&&t(1,u=b.projectId),"allItems"in b&&t(2,o=b.allItems),"depth"in b&&t(3,d=b.depth)},n.$$.update=()=>{n.$$.dirty&1025&&(l.isSection?i.uiState&&i.uiState.expandedSections?t(5,p=i.uiState.expandedSections[l.id]===!0):t(5,p=!1):t(5,p=!0)),n.$$.dirty&5&&t(6,r=o.filter(b=>b.parentId===l.id))},[l,u,o,d,s,p,r,h,v,_,i]}class Mt extends Se{constructor(e){super(),we(this,e,hn,cn,be,{item:0,projectId:1,allItems:2,depth:3})}}function nt(n,e,t){const r=n.slice();return r[11]=e[t],r}function rt(n){let e,t=n[0].description+"",r;return{c(){e=f("p"),r=z(t),c(e,"class","text-sm text-gray-600 dark:text-gray-300 mb-3")},m(i,l){C(i,e,l),a(e,r)},p(i,l){l&1&&t!==(t=i[0].description+"")&&U(r,t)},d(i){i&&D(e)}}}function it(n){let e,t=[],r=new Map,i,l=n[4];const u=o=>o[11].id;for(let o=0;o<l.length;o+=1){let d=nt(n,l,o),s=u(d);r.set(s,t[o]=lt(s,d))}return{c(){e=f("div");for(let o=0;o<t.length;o+=1)t[o].c();c(e,"class","border-t border-gray-200 dark:border-gray-700 pt-4 space-y-2")},m(o,d){C(o,e,d);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null);i=!0},p(o,d){d&17&&(l=o[4],ke(),t=He(t,d,u,1,o,l,r,e,Ve,lt,null,nt),ye())},i(o){if(!i){for(let d=0;d<l.length;d+=1)Z(t[d]);i=!0}},o(o){for(let d=0;d<t.length;d+=1)te(t[d]);i=!1},d(o){o&&D(e);for(let d=0;d<t.length;d+=1)t[d].d()}}}function lt(n,e){let t,r,i;return r=new Mt({props:{item:e[11],projectId:e[0].id,allItems:e[0].items,depth:0}}),{key:n,first:null,c(){t=Ie(),ve(r.$$.fragment),this.first=t},m(l,u){C(l,t,u),me(r,l,u),i=!0},p(l,u){e=l;const o={};u&16&&(o.item=e[11]),u&1&&(o.projectId=e[0].id),u&1&&(o.allItems=e[0].items),r.$set(o)},i(l){i||(Z(r.$$.fragment,l),i=!0)},o(l){te(r.$$.fragment,l),i=!1},d(l){l&&D(t),he(r,l)}}}function bn(n){let e,t,r,i,l,u=n[0].name+"",o,d,s,m,p,h,v,g,_,b,x,S,y,k,w,E,M,L,A,H,q,Q,$,ne,G,X,W,B=n[0].description&&rt(n),J=n[3]&&it(n);return{c(){e=f("div"),t=f("div"),r=f("div"),i=f("div"),l=f("h3"),o=z(u),d=j(),B&&B.c(),s=j(),m=f("div"),p=f("div"),h=f("div"),v=j(),g=f("span"),_=z(n[2]),b=z("/"),x=z(n[1]),S=j(),y=f("div"),k=f("button"),w=de("svg"),E=de("path"),A=j(),H=f("button"),H.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>',q=j(),Q=f("button"),Q.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>',$=j(),J&&J.c(),c(l,"class","text-lg font-semibold text-gray-900 dark:text-white mb-2"),c(h,"class","bg-indigo-600 dark:bg-indigo-500 h-2 rounded-full transition-all duration-300"),Ce(h,"width",n[5]+"%"),c(p,"class","flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2"),c(g,"class","text-sm font-medium text-gray-900 dark:text-white"),c(m,"class","flex items-center gap-3 mb-3"),c(i,"class","flex-1"),c(E,"stroke-linecap","round"),c(E,"stroke-linejoin","round"),c(E,"stroke-width","2"),c(E,"d","M19 9l-7 7-7-7"),c(w,"class",M="w-5 h-5 transform transition-transform "+(n[3]?"rotate-180":"")),c(w,"fill","none"),c(w,"stroke","currentColor"),c(w,"viewBox","0 0 24 24"),c(k,"class","p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"),c(k,"title",L=n[3]?"Collapse":"Expand"),c(H,"class","p-2 rounded-lg text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors"),c(H,"title","Edit TODO"),c(Q,"class","p-2 rounded-lg text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors"),c(Q,"title","Delete project"),c(y,"class","flex items-center gap-2 ml-4"),c(r,"class","flex items-start justify-between mb-4"),c(t,"class","p-6"),c(e,"class",ne="rounded-xl shadow-sm border overflow-hidden transition-all duration-300 "+(n[3]?"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-200 dark:border-indigo-700 shadow-lg":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"))},m(V,F){C(V,e,F),a(e,t),a(t,r),a(r,i),a(i,l),a(l,o),a(i,d),B&&B.m(i,null),a(i,s),a(i,m),a(m,p),a(p,h),a(m,v),a(m,g),a(g,_),a(g,b),a(g,x),a(r,S),a(r,y),a(y,k),a(k,w),a(w,E),a(y,A),a(y,H),a(y,q),a(y,Q),a(t,$),J&&J.m(t,null),G=!0,X||(W=[R(k,"click",n[6]),R(H,"click",n[8]),R(Q,"click",n[7])],X=!0)},p(V,[F]){(!G||F&1)&&u!==(u=V[0].name+"")&&U(o,u),V[0].description?B?B.p(V,F):(B=rt(V),B.c(),B.m(i,s)):B&&(B.d(1),B=null),(!G||F&32)&&Ce(h,"width",V[5]+"%"),(!G||F&4)&&U(_,V[2]),(!G||F&2)&&U(x,V[1]),(!G||F&8&&M!==(M="w-5 h-5 transform transition-transform "+(V[3]?"rotate-180":"")))&&c(w,"class",M),(!G||F&8&&L!==(L=V[3]?"Collapse":"Expand"))&&c(k,"title",L),V[3]?J?(J.p(V,F),F&8&&Z(J,1)):(J=it(V),J.c(),Z(J,1),J.m(t,null)):J&&(ke(),te(J,1,1,()=>{J=null}),ye()),(!G||F&8&&ne!==(ne="rounded-xl shadow-sm border overflow-hidden transition-all duration-300 "+(V[3]?"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-200 dark:border-indigo-700 shadow-lg":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700")))&&c(e,"class",ne)},i(V){G||(Z(J),G=!0)},o(V){te(J),G=!1},d(V){V&&D(e),B&&B.d(),J&&J.d(),X=!1,ae(W)}}}function _n(n,e,t){let r,i,l,u,o;jt(n,se,g=>t(9,o=g));const d=Ct();let{project:s}=e,m=!1;function p(){se.toggleProjectExpanded(s.id)}function h(){confirm(`Are you sure you want to delete "${s.name}"?`)&&se.deleteProject(s.id)}function v(){d("edit",s)}return n.$$set=g=>{"project"in g&&t(0,s=g.project)},n.$$.update=()=>{n.$$.dirty&513&&(o.uiState&&o.uiState.expandedProjects?t(3,m=o.uiState.expandedProjects[s.id]===!0):t(3,m=!1)),n.$$.dirty&1&&t(2,r=s.items.filter(g=>!g.isSection&&g.status==="completed").length),n.$$.dirty&1&&t(1,i=s.items.filter(g=>!g.isSection).length),n.$$.dirty&6&&t(5,l=i>0?r/i*100:0),n.$$.dirty&1&&t(4,u=s.items.filter(g=>!g.parentId))},[s,i,r,m,u,l,p,h,v,o]}class kn extends Se{constructor(e){super(),we(this,e,_n,bn,be,{project:0})}}const{Map:Et}=Kt;function ot(n,e,t){const r=n.slice();return r[59]=e[t],r}function st(n,e,t){const r=n.slice();return r[56]=e[t],r}function yn(n){let e,t,r,i,l,u,o,d,s,m,p,h,v,g,_,b,x,S,y,k,w,E,M,L=[],A=new Et,H,q,Q,$,ne,G,X=n[0]?"Save Changes":"Create TODO",W,B,J,V,F=!n[0]&&at(n),re=n[1].length>0&&dt(),ue=n[10];const oe=P=>P[59].id;for(let P=0;P<ue.length;P+=1){let O=ot(n,ue,P),K=oe(O);A.set(K,L[P]=gt(K,O))}function ee(P,O){return P[1].length===0?Sn:wn}let pe=ee(n),ie=pe(n);return{c(){e=f("div"),t=f("div"),F&&F.c(),r=j(),i=f("div"),l=f("div"),u=f("label"),u.textContent="TODO Name *",o=j(),d=f("input"),s=j(),m=f("div"),p=f("label"),p.textContent="Description (Optional)",h=j(),v=f("textarea"),g=j(),_=f("div"),b=f("div"),x=f("div"),S=f("h3"),S.textContent="Tasks & Sections",y=j(),k=f("button"),k.innerHTML=`<svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
                  Add Item`,w=j(),re&&re.c(),E=j(),M=f("div");for(let P=0;P<L.length;P+=1)L[P].c();H=j(),ie.c(),q=j(),Q=f("div"),$=f("button"),$.textContent="Cancel",ne=j(),G=f("button"),W=z(X),c(u,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"),c(d,"type","text"),c(d,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"),c(d,"placeholder","Enter TODO name"),c(p,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"),c(v,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"),c(v,"placeholder","Describe your TODO"),c(v,"rows","2"),c(i,"class","space-y-4"),c(S,"class","text-lg font-medium text-gray-900 dark:text-white"),c(k,"class","inline-flex items-center px-3 py-1 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300"),c(x,"class","flex items-center justify-between mb-2"),c(b,"class","mb-4"),c(M,"class","space-y-2 max-h-40 overflow-y-auto"),c($,"class","flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"),G.disabled=B=!n[4].trim(),c(G,"class","flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"),c(Q,"class","flex gap-3 pt-6 border-t border-gray-200 dark:border-gray-600"),c(e,"class","space-y-6")},m(P,O){C(P,e,O),a(e,t),F&&F.m(t,null),a(t,r),a(t,i),a(i,l),a(l,u),a(l,o),a(l,d),ge(d,n[4]),a(i,s),a(i,m),a(m,p),a(m,h),a(m,v),ge(v,n[5]),a(e,g),a(e,_),a(_,b),a(b,x),a(x,S),a(x,y),a(x,k),a(b,w),re&&re.m(b,null),a(_,E),a(_,M);for(let K=0;K<L.length;K+=1)L[K]&&L[K].m(M,null);a(M,H),ie.m(M,null),n[42](M),a(e,q),a(e,Q),a(Q,$),a(Q,ne),a(Q,G),a(G,W),J||(V=[R(d,"input",n[34]),R(v,"input",n[35]),R(k,"click",n[14]),R(M,"dragover",n[24]),R($,"click",n[27]),R(G,"click",n[13])],J=!0)},p(P,O){P[0]?F&&(F.d(1),F=null):F?F.p(P,O):(F=at(P),F.c(),F.m(t,r)),O[0]&16&&d.value!==P[4]&&ge(d,P[4]),O[0]&32&&ge(v,P[5]),P[1].length>0?re||(re=dt(),re.c(),re.m(b,null)):re&&(re.d(1),re=null),O[0]&16549122&&(ue=P[10],L=He(L,O,oe,1,P,ue,A,M,Ot,gt,H,ot)),pe===(pe=ee(P))&&ie?ie.p(P,O):(ie.d(1),ie=pe(P),ie&&(ie.c(),ie.m(M,null))),O[0]&1&&X!==(X=P[0]?"Save Changes":"Create TODO")&&U(W,X),O[0]&16&&B!==(B=!P[4].trim())&&(G.disabled=B)},d(P){P&&D(e),F&&F.d(),re&&re.d();for(let O=0;O<L.length;O+=1)L[O].d();ie.d(),n[42](null),J=!1,ae(V)}}}function vn(n){let e,t,r,i,l=[],u=new Et,o,d,s,m,p,h=n[3];const v=g=>g[56].name;for(let g=0;g<h.length;g+=1){let _=st(n,h,g),b=v(_);u.set(b,l[g]=mt(b,_))}return{c(){e=f("div"),t=f("div"),t.innerHTML=`<h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2">Choose a Preset</h3> 
            <p class="text-gray-600 dark:text-gray-300">Start with a pre-configured template or create a custom TODO</p>`,r=j(),i=f("div");for(let g=0;g<l.length;g+=1)l[g].c();o=j(),d=f("div"),s=f("button"),s.innerHTML=`<svg class="w-8 h-8 mx-auto text-gray-400 dark:text-gray-500 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> 
              <span class="text-sm font-medium text-gray-900 dark:text-white">Create Custom TODO</span>`,c(t,"class","text-center"),c(i,"class","grid gap-4"),c(s,"class","w-full p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg text-center hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors"),c(d,"class","border-t border-gray-200 dark:border-gray-600 pt-6"),c(e,"class","space-y-6")},m(g,_){C(g,e,_),a(e,t),a(e,r),a(e,i);for(let b=0;b<l.length;b+=1)l[b]&&l[b].m(i,null);a(e,o),a(e,d),a(d,s),m||(p=R(s,"click",n[12]),m=!0)},p(g,_){_[0]&2056&&(h=g[3],l=He(l,_,v,1,g,h,u,i,Ot,mt,null,st))},d(g){g&&D(e);for(let _=0;_<l.length;_+=1)l[_].d();m=!1,p()}}}function at(n){let e,t,r;return{c(){e=f("button"),e.textContent="\u2190 Back to Presets",c(e,"class","text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 mb-4")},m(i,l){C(i,e,l),t||(r=R(e,"click",n[33]),t=!0)},p:le,d(i){i&&D(e),t=!1,r()}}}function dt(n){let e;return{c(){e=f("p"),e.textContent="\u{1F4A1} Drag items onto sections to nest them, or drag to other positions to reorder. Sections can be nested within other sections.",c(e,"class","text-xs text-gray-500 dark:text-gray-400")},m(t,r){C(t,e,r)},d(t){t&&D(e)}}}function ut(n){let e;return{c(){e=f("span"),e.textContent="\u2514\u2500",c(e,"class","text-gray-400 dark:text-gray-500")},m(t,r){C(t,e,r)},d(t){t&&D(e)}}}function ct(n){let e,t=n[1].filter(l).length+"",r,i;function l(...u){return n[36](n[59],...u)}return{c(){e=f("span"),r=z(t),i=z(" items"),c(e,"class","text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900 px-2 py-1 rounded")},m(u,o){C(u,e,o),a(e,r),a(e,i)},p(u,o){n=u,o[0]&1026&&t!==(t=n[1].filter(l).length+"")&&U(r,t)},d(u){u&&D(e)}}}function ft(n){let e,t=n[59].description+"",r;return{c(){e=f("p"),r=z(t),c(e,"class","text-sm text-gray-600 dark:text-gray-300 flex-1")},m(i,l){C(i,e,l),a(e,r)},p(i,l){l[0]&1024&&t!==(t=i[59].description+"")&&U(r,t)},d(i){i&&D(e)}}}function gt(n,e){let t,r,i,l,u=e[59].isSection?"\u{1F4C1}":"\u{1F4CB}",o,d,s=e[59].name+"",m,p,h=e[59].isSection&&e[1].filter(L).length>0,v,g,_,b,x,S,y,k,w,E,M;function L(...W){return e[31](e[59],...W)}let A=e[59].level>0&&ut(),H=h&&ct(e),q=e[59].description&&ft(e);function Q(){return e[37](e[59])}function $(){return e[38](e[59])}function ne(...W){return e[39](e[59],...W)}function G(...W){return e[40](e[59],...W)}function X(...W){return e[41](e[59],...W)}return{key:n,first:null,c(){var W;t=f("div"),r=f("div"),A&&A.c(),i=j(),l=f("span"),o=z(u),d=j(),m=z(s),p=j(),H&&H.c(),v=j(),q&&q.c(),g=j(),_=f("div"),b=f("span"),b.textContent="\u22EE\u22EE",x=j(),S=f("button"),S.innerHTML='<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>',y=j(),k=f("button"),k.innerHTML='<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>',c(l,"class","font-medium text-gray-900 dark:text-white"),c(r,"class","flex items-center gap-2 flex-1"),c(b,"class","text-xs text-gray-400 cursor-grab"),c(S,"class","text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400"),c(S,"title","Edit item"),c(k,"class","text-gray-400 hover:text-red-600"),c(k,"title","Delete item"),c(_,"class","flex items-center gap-2"),c(t,"class",w="flex items-center gap-3 p-3 border border-gray-200 dark:border-gray-600 rounded-lg cursor-move transition-all duration-200 "+(((W=e[8])==null?void 0:W.id)===e[59].id?"opacity-50 scale-95":"")+" "+(e[59].isSection?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700":"")+" "+(e[8]&&e[8].id!==e[59].id&&e[59].isSection&&!(e[8].isSection&&e[19](e[59].id,e[8].id))?"ring-2 ring-blue-300 dark:ring-blue-600":"")),Ce(t,"margin-left",e[59].level*20+"px"),c(t,"draggable","true"),this.first=t},m(W,B){C(W,t,B),a(t,r),A&&A.m(r,null),a(r,i),a(r,l),a(l,o),a(l,d),a(l,m),a(r,p),H&&H.m(r,null),a(t,v),q&&q.m(t,null),a(t,g),a(t,_),a(_,b),a(_,x),a(_,S),a(_,y),a(_,k),E||(M=[R(S,"click",Q),R(k,"click",$),R(t,"dragstart",ne),R(t,"dragover",G),R(t,"drop",X),R(t,"dragend",e[23])],E=!0)},p(W,B){var J;e=W,e[59].level>0?A||(A=ut(),A.c(),A.m(r,i)):A&&(A.d(1),A=null),B[0]&1024&&u!==(u=e[59].isSection?"\u{1F4C1}":"\u{1F4CB}")&&U(o,u),B[0]&1024&&s!==(s=e[59].name+"")&&U(m,s),B[0]&1026&&(h=e[59].isSection&&e[1].filter(L).length>0),h?H?H.p(e,B):(H=ct(e),H.c(),H.m(r,null)):H&&(H.d(1),H=null),e[59].description?q?q.p(e,B):(q=ft(e),q.c(),q.m(t,g)):q&&(q.d(1),q=null),B[0]&1280&&w!==(w="flex items-center gap-3 p-3 border border-gray-200 dark:border-gray-600 rounded-lg cursor-move transition-all duration-200 "+(((J=e[8])==null?void 0:J.id)===e[59].id?"opacity-50 scale-95":"")+" "+(e[59].isSection?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700":"")+" "+(e[8]&&e[8].id!==e[59].id&&e[59].isSection&&!(e[8].isSection&&e[19](e[59].id,e[8].id))?"ring-2 ring-blue-300 dark:ring-blue-600":""))&&c(t,"class",w),B[0]&1024&&Ce(t,"margin-left",e[59].level*20+"px")},d(W){W&&D(t),A&&A.d(),H&&H.d(),q&&q.d(),E=!1,ae(M)}}}function wn(n){let e,t,r=n[8]?"\u{1F4E6} Drop here to move to root level":"Drop items here to move to root level",i,l,u,o;return{c(){e=f("div"),t=f("p"),i=z(r),c(t,"class","text-xs text-gray-500 dark:text-gray-400"),c(e,"class",l="mt-2 p-4 border-2 border-dashed rounded-lg text-center transition-all duration-200 "+(n[8]?"border-indigo-300 dark:border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/30"))},m(d,s){C(d,e,s),a(e,t),a(t,i),u||(o=[R(e,"dragover",n[25]),R(e,"drop",n[26])],u=!0)},p(d,s){s[0]&256&&r!==(r=d[8]?"\u{1F4E6} Drop here to move to root level":"Drop items here to move to root level")&&U(i,r),s[0]&256&&l!==(l="mt-2 p-4 border-2 border-dashed rounded-lg text-center transition-all duration-200 "+(d[8]?"border-indigo-300 dark:border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/30"))&&c(e,"class",l)},d(d){d&&D(e),u=!1,ae(o)}}}function Sn(n){let e;return{c(){e=f("div"),e.innerHTML=`<svg class="w-12 h-12 mx-auto mb-3 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg> 
                  <p class="text-sm">No tasks or sections yet</p> 
                  <p class="text-xs">Click &quot;Add Item&quot; to get started</p>`,c(e,"class","text-center py-8 text-gray-500 dark:text-gray-400")},m(t,r){C(t,e,r)},p:le,d(t){t&&D(e)}}}function pt(n){let e,t=n[56].description+"",r;return{c(){e=f("p"),r=z(t),c(e,"class","text-sm text-gray-600 dark:text-gray-300 mb-2")},m(i,l){C(i,e,l),a(e,r)},p(i,l){l[0]&8&&t!==(t=i[56].description+"")&&U(r,t)},d(i){i&&D(e)}}}function mt(n,e){let t,r,i=e[56].name+"",l,u,o,d,s=e[56].items.filter(kt).length+"",m,p,h=e[56].items.filter(yt).length+"",v,g,_,b,x,S=e[56].description&&pt(e);function y(){return e[32](e[56])}return{key:n,first:null,c(){t=f("button"),r=f("h4"),l=z(i),u=j(),S&&S.c(),o=j(),d=f("p"),m=z(s),p=z(` tasks, 
                  `),v=z(h),g=z(" sections"),_=j(),c(r,"class","font-medium text-gray-900 dark:text-white mb-1"),c(d,"class","text-xs text-gray-500 dark:text-gray-400"),c(t,"class","p-4 border border-gray-200 dark:border-gray-600 rounded-lg text-left hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors"),this.first=t},m(k,w){C(k,t,w),a(t,r),a(r,l),a(t,u),S&&S.m(t,null),a(t,o),a(t,d),a(d,m),a(d,p),a(d,v),a(d,g),a(t,_),b||(x=R(t,"click",y),b=!0)},p(k,w){e=k,w[0]&8&&i!==(i=e[56].name+"")&&U(l,i),e[56].description?S?S.p(e,w):(S=pt(e),S.c(),S.m(t,o)):S&&(S.d(1),S=null),w[0]&8&&s!==(s=e[56].items.filter(kt).length+"")&&U(m,s),w[0]&8&&h!==(h=e[56].items.filter(yt).length+"")&&U(v,h)},d(k){k&&D(t),S&&S.d(),b=!1,x()}}}function ht(n){let e,t,r,i,l,u,o,d,s,m,p,h,v,g,_,b,x,S,y,k,w,E,M,L,A,H,q,Q,$,ne,G,X,W,B,J,V,F;function re(O,K){return K[0]&66&&(i=null),i==null&&(i=!!O[1].some(O[30])),i?Tn:xn}let ue=re(n,[-1,-1]),oe=ue(n),ee=!n[6].isSection&&bt(n);function pe(O,K){return K[0]&66&&(W=null),W==null&&(W=!!O[1].some(O[29])),W?Dn:jn}let ie=pe(n,[-1,-1]),P=ie(n);return J=Ut(n[44][0]),{c(){e=f("div"),t=f("div"),r=f("h3"),oe.c(),l=j(),u=f("div"),o=f("div"),d=f("label"),s=f("input"),m=j(),p=f("span"),p.textContent="Task",h=j(),v=f("label"),g=f("input"),_=j(),b=f("span"),b.textContent="Section",x=j(),S=f("div"),y=f("label"),y.textContent="Name *",k=j(),w=f("input"),E=j(),M=f("div"),L=f("label"),L.textContent="Description",A=j(),H=f("input"),q=j(),ee&&ee.c(),Q=j(),$=f("div"),ne=f("button"),ne.textContent="Cancel",G=j(),X=f("button"),P.c(),c(r,"class","text-lg font-medium text-gray-900 dark:text-white mb-4"),c(s,"type","radio"),s.__value=!1,s.value=s.__value,c(s,"class","mr-2"),c(p,"class","text-sm text-gray-700 dark:text-gray-300"),c(d,"class","flex items-center"),c(g,"type","radio"),g.__value=!0,g.value=g.__value,c(g,"class","mr-2"),c(b,"class","text-sm text-gray-700 dark:text-gray-300"),c(v,"class","flex items-center"),c(o,"class","flex gap-4 mb-4"),c(y,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"),c(w,"type","text"),c(w,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"),c(L,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"),c(H,"type","text"),c(H,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"),c(u,"class","space-y-4"),c(ne,"class","flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"),X.disabled=B=!n[6].name.trim(),c(X,"class","flex-1 px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"),c($,"class","flex gap-2 mt-6"),c(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6"),c(e,"class","fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-[70]"),J.p(s,g)},m(O,K){C(O,e,K),a(e,t),a(t,r),oe.m(r,null),a(t,l),a(t,u),a(u,o),a(o,d),a(d,s),s.checked=s.__value===n[6].isSection,a(d,m),a(d,p),a(o,h),a(o,v),a(v,g),g.checked=g.__value===n[6].isSection,a(v,_),a(v,b),a(u,x),a(u,S),a(S,y),a(S,k),a(S,w),ge(w,n[6].name),a(u,E),a(u,M),a(M,L),a(M,A),a(M,H),ge(H,n[6].description),a(u,q),ee&&ee.m(u,null),a(t,Q),a(t,$),a($,ne),a($,G),a($,X),P.m(X,null),V||(F=[R(s,"change",n[43]),R(g,"change",n[45]),R(w,"input",n[46]),R(H,"input",n[47]),R(ne,"click",n[17]),R(X,"click",n[16])],V=!0)},p(O,K){ue===(ue=re(O,K))&&oe?oe.p(O,K):(oe.d(1),oe=ue(O),oe&&(oe.c(),oe.m(r,null))),K[0]&64&&(s.checked=s.__value===O[6].isSection),K[0]&64&&(g.checked=g.__value===O[6].isSection),K[0]&64&&w.value!==O[6].name&&ge(w,O[6].name),K[0]&64&&H.value!==O[6].description&&ge(H,O[6].description),O[6].isSection?ee&&(ee.d(1),ee=null):ee?ee.p(O,K):(ee=bt(O),ee.c(),ee.m(u,null)),ie===(ie=pe(O,K))&&P?P.p(O,K):(P.d(1),P=ie(O),P&&(P.c(),P.m(X,null))),K[0]&64&&B!==(B=!O[6].name.trim())&&(X.disabled=B)},d(O){O&&D(e),oe.d(),ee&&ee.d(),P.d(),J.r(),V=!1,ae(F)}}}function xn(n){let e=n[6].isSection?"Add Section":"Add Task",t;return{c(){t=z(e)},m(r,i){C(r,t,i)},p(r,i){i[0]&64&&e!==(e=r[6].isSection?"Add Section":"Add Task")&&U(t,e)},d(r){r&&D(t)}}}function Tn(n){let e=n[6].isSection?"Edit Section":"Edit Task",t;return{c(){t=z(e)},m(r,i){C(r,t,i)},p(r,i){i[0]&64&&e!==(e=r[6].isSection?"Edit Section":"Edit Task")&&U(t,e)},d(r){r&&D(t)}}}function bt(n){let e,t,r,i,l,u,o,d,s,m,p,h,v,g,_,b=n[6].resetTime.type==="weekly"&&_t(n);return{c(){e=f("div"),t=f("label"),t.textContent="Reset Schedule",r=j(),i=f("select"),l=f("option"),l.textContent="Daily",u=f("option"),u.textContent="Weekly",o=j(),d=f("div"),s=f("div"),m=f("label"),m.textContent="Time",p=j(),h=f("input"),v=j(),b&&b.c(),c(t,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"),l.__value="daily",l.value=l.__value,u.__value="weekly",u.value=u.__value,c(i,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"),n[6].resetTime.type===void 0&&Ne(()=>n[48].call(i)),c(m,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"),c(h,"type","time"),c(h,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"),c(s,"class","flex-1"),c(d,"class","flex gap-2")},m(x,S){C(x,e,S),a(e,t),a(e,r),a(e,i),a(i,l),a(i,u),Re(i,n[6].resetTime.type,!0),C(x,o,S),C(x,d,S),a(d,s),a(s,m),a(s,p),a(s,h),ge(h,n[6].resetTime.time),a(d,v),b&&b.m(d,null),g||(_=[R(i,"change",n[48]),R(h,"input",n[49])],g=!0)},p(x,S){S[0]&64&&Re(i,x[6].resetTime.type),S[0]&64&&ge(h,x[6].resetTime.time),x[6].resetTime.type==="weekly"?b?b.p(x,S):(b=_t(x),b.c(),b.m(d,null)):b&&(b.d(1),b=null)},d(x){x&&D(e),x&&D(o),x&&D(d),b&&b.d(),g=!1,ae(_)}}}function _t(n){let e,t,r,i,l,u,o,d,s,m,p,h,v;return{c(){e=f("div"),t=f("label"),t.textContent="Day",r=j(),i=f("select"),l=f("option"),l.textContent="Sunday",u=f("option"),u.textContent="Monday",o=f("option"),o.textContent="Tuesday",d=f("option"),d.textContent="Wednesday",s=f("option"),s.textContent="Thursday",m=f("option"),m.textContent="Friday",p=f("option"),p.textContent="Saturday",c(t,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"),l.__value=0,l.value=l.__value,u.__value=1,u.value=u.__value,o.__value=2,o.value=o.__value,d.__value=3,d.value=d.__value,s.__value=4,s.value=s.__value,m.__value=5,m.value=m.__value,p.__value=6,p.value=p.__value,c(i,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"),n[6].resetTime.weekday===void 0&&Ne(()=>n[50].call(i)),c(e,"class","flex-1")},m(g,_){C(g,e,_),a(e,t),a(e,r),a(e,i),a(i,l),a(i,u),a(i,o),a(i,d),a(i,s),a(i,m),a(i,p),Re(i,n[6].resetTime.weekday,!0),h||(v=R(i,"change",n[50]),h=!0)},p(g,_){_[0]&64&&Re(i,g[6].resetTime.weekday)},d(g){g&&D(e),h=!1,v()}}}function jn(n){let e,t=n[6].isSection?"Section":"Task",r;return{c(){e=z("Add "),r=z(t)},m(i,l){C(i,e,l),C(i,r,l)},p(i,l){l[0]&64&&t!==(t=i[6].isSection?"Section":"Task")&&U(r,t)},d(i){i&&D(e),i&&D(r)}}}function Dn(n){let e,t=n[6].isSection?"Section":"Task",r;return{c(){e=z("Save "),r=z(t)},m(i,l){C(i,e,l),C(i,r,l)},p(i,l){l[0]&64&&t!==(t=i[6].isSection?"Section":"Task")&&U(r,t)},d(i){i&&D(e),i&&D(r)}}}function Cn(n){let e,t,r,i,l,u=n[0]?"Edit TODO":"Create New TODO",o,d,s,m,p,h,v,g;function _(y,k){return y[2]?vn:yn}let b=_(n),x=b(n),S=n[7]&&n[6]&&ht(n);return{c(){e=f("div"),t=f("div"),r=f("div"),i=f("div"),l=f("h2"),o=z(u),d=j(),s=f("button"),s.innerHTML='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',m=j(),x.c(),p=j(),S&&S.c(),h=Ie(),c(l,"class","text-2xl font-bold text-gray-900 dark:text-white"),c(s,"class","text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"),c(i,"class","flex items-center justify-between mb-6"),c(r,"class","p-6"),c(t,"class","bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"),c(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50")},m(y,k){C(y,e,k),a(e,t),a(t,r),a(r,i),a(i,l),a(l,o),a(i,d),a(i,s),a(r,m),x.m(r,null),C(y,p,k),S&&S.m(y,k),C(y,h,k),v||(g=[R(s,"click",n[27]),R(e,"click",n[28])],v=!0)},p(y,k){k[0]&1&&u!==(u=y[0]?"Edit TODO":"Create New TODO")&&U(o,u),b===(b=_(y))&&x?x.p(y,k):(x.d(1),x=b(y),x&&(x.c(),x.m(r,null))),y[7]&&y[6]?S?S.p(y,k):(S=ht(y),S.c(),S.m(h.parentNode,h)):S&&(S.d(1),S=null)},i:le,o:le,d(y){y&&D(e),x.d(),y&&D(p),S&&S.d(y),y&&D(h),v=!1,ae(g)}}}function Ae(){return Math.random().toString(36).substr(2,9)}const kt=n=>!n.isSection,yt=n=>n.isSection;function In(n,e,t){let r;const i=Ct();let{editingProject:l=null}=e,u=!0,o=[],d=null,s="",m="",p=[],h=null,v=!1,g=null,_,b=null;qe(async()=>{await x(),l&&(t(2,u=!1),t(4,s=l.name),t(5,m=l.description||""),t(1,p=JSON.parse(JSON.stringify(l.items))))}),Dt(()=>{b&&(clearInterval(b),b=null)});async function x(){try{const T=["mmo-dailies","gacha-game"],I=await Promise.all(T.map(async N=>{const ce=await fetch(`/todo/presets/${N}.json`);return ce.ok?await ce.json():null}));t(3,o=I.filter(N=>N!==null))}catch(T){console.error("Failed to load presets:",T)}}function S(T){d=T,y()}function y(){if(!d)return;const T=new Map;d.items.forEach(N=>{T.set(N.id,Ae())});const I={id:Ae(),name:d.name,description:d.description,items:d.items.map(N=>({...N,id:T.get(N.id),status:"pending",lastReset:0,parentId:N.parentId&&T.get(N.parentId)||null})),createdAt:Date.now(),isPreset:!0};se.addProject(I),J()}function k(){t(2,u=!1),d=null}function w(){if(!!s.trim()){if(l)se.updateProject(l.id,{name:s.trim(),description:m.trim()||void 0,items:p});else{const T={id:Ae(),name:s.trim(),description:m.trim()||void 0,items:p,createdAt:Date.now()};se.addProject(T)}J()}}function E(){t(7,v=!0),t(6,h={id:Ae(),name:"",description:"",status:"pending",resetTime:{type:"daily",time:"20:00"},lastReset:0,parentId:void 0,isSection:!1})}function M(T){t(7,v=!0),t(6,h=JSON.parse(JSON.stringify(T)))}function L(){if(!(h!=null&&h.name.trim()))return;p.findIndex(I=>I.id===h.id)>=0?t(1,p=p.map(I=>I.id===h.id?{...h}:I)):t(1,p=[...p,{...h}]),A()}function A(){t(6,h=null),t(7,v=!1)}function H(T){const I=p.find(N=>N.id===T);I!=null&&I.isSection?t(1,p=p.map(N=>N.parentId===T?{...N,parentId:void 0}:N).filter(N=>N.id!==T)):t(1,p=p.filter(N=>N.id!==T))}function q(T,I){const N=p.find(ce=>ce.id===T);return!N||!N.parentId?!1:N.parentId===I?!0:q(N.parentId,I)}function Q(T,I){t(8,g=I),T.dataTransfer.effectAllowed="move"}function $(T,I){if(T.preventDefault(),g&&g.id!==I.id){if(g.isSection&&q(I.id,g.id)){T.dataTransfer.dropEffect="none";return}T.dataTransfer.dropEffect="move"}}function ne(T,I){if(T.preventDefault(),g&&g.id!==I.id){if(g.isSection&&q(I.id,g.id)){t(8,g=null);return}I.isSection?t(1,p=p.map(N=>N.id===g.id?{...N,parentId:I.id}:N)):!I.isSection&&I.parentId?t(1,p=p.map(N=>N.id===g.id?{...N,parentId:I.parentId}:N)):!I.parentId&&!I.isSection&&t(1,p=p.map(N=>N.id===g.id?{...N,parentId:void 0}:N))}t(8,g=null)}function G(){t(8,g=null),b&&(clearInterval(b),b=null)}function X(T){if(!g||!_)return;const I=_.getBoundingClientRect(),N=50,ce=10,Oe=T.clientY;if(b&&(clearInterval(b),b=null),Oe-I.top<N&&_.scrollTop>0)b=setInterval(()=>{_.scrollTop>0?t(9,_.scrollTop-=ce,_):(clearInterval(b),b=null)},16);else if(I.bottom-Oe<N){const Me=_.scrollHeight-_.clientHeight;_.scrollTop<Me&&(b=setInterval(()=>{const Le=_.scrollHeight-_.clientHeight;_.scrollTop<Le?t(9,_.scrollTop+=ce,_):(clearInterval(b),b=null)},16))}}function W(T){T.preventDefault(),g&&(T.dataTransfer.dropEffect="move")}function B(T){T.preventDefault(),g&&t(1,p=p.map(I=>I.id===g.id?{...I,parentId:void 0}:I)),t(8,g=null)}function J(){i("close")}function V(T){T.target===T.currentTarget&&J()}const F=[[]],re=T=>T.id===h.id,ue=T=>T.id===h.id,oe=(T,I)=>I.parentId===T.id,ee=T=>S(T),pe=()=>t(2,u=!0);function ie(){s=this.value,t(4,s)}function P(){m=this.value,t(5,m)}const O=(T,I)=>I.parentId===T.id,K=T=>M(T),Pt=T=>H(T.id),Nt=(T,I)=>Q(I,T),Ht=(T,I)=>$(I,T),Lt=(T,I)=>ne(I,T);function At(T){ze[T?"unshift":"push"](()=>{_=T,t(9,_)})}function Bt(){h.isSection=this.__value,t(6,h)}function Rt(){h.isSection=this.__value,t(6,h)}function Jt(){h.name=this.value,t(6,h)}function zt(){h.description=this.value,t(6,h)}function Ft(){h.resetTime.type=Ge(this),t(6,h)}function Wt(){h.resetTime.time=this.value,t(6,h)}function qt(){h.resetTime.weekday=Ge(this),t(6,h)}return n.$$set=T=>{"editingProject"in T&&t(0,l=T.editingProject)},n.$$.update=()=>{n.$$.dirty[0]&2&&t(10,r=(()=>{const T=p.filter(ce=>!ce.parentId),I=[];function N(ce,Oe){ce.forEach(Me=>{if(I.push({...Me,level:Oe}),Me.isSection){const Le=p.filter(Vt=>Vt.parentId===Me.id);Le.length>0&&N(Le,Oe+1)}})}return N(T,0),I})())},[l,p,u,o,s,m,h,v,g,_,r,S,k,w,E,M,L,A,H,q,Q,$,ne,G,X,W,B,J,V,re,ue,oe,ee,pe,ie,P,O,K,Pt,Nt,Ht,Lt,At,Bt,F,Rt,Jt,zt,Ft,Wt,qt]}class On extends Se{constructor(e){super(),we(this,e,In,Cn,be,{editingProject:0},null,[-1,-1])}}function Mn(n){let e,t;return{c(){e=de("svg"),t=de("path"),c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"stroke-width","2"),c(t,"d","M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"),c(e,"class","w-5 h-5"),c(e,"fill","none"),c(e,"stroke","currentColor"),c(e,"viewBox","0 0 24 24")},m(r,i){C(r,e,i),a(e,t)},d(r){r&&D(e)}}}function En(n){let e,t;return{c(){e=de("svg"),t=de("path"),c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"stroke-width","2"),c(t,"d","M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"),c(e,"class","w-5 h-5"),c(e,"fill","none"),c(e,"stroke","currentColor"),c(e,"viewBox","0 0 24 24")},m(r,i){C(r,e,i),a(e,t)},d(r){r&&D(e)}}}function Pn(n){let e,t,r,i,l,u,o,d;function s(h,v){return h[0]==="light"?En:Mn}let m=s(n),p=m(n);return{c(){e=f("header"),t=f("div"),r=f("div"),i=f("div"),i.innerHTML=`<svg class="w-8 h-8 text-indigo-600 dark:text-indigo-400 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> 
        <span class="text-xl font-semibold text-gray-900 dark:text-white">Game TODO</span>`,l=j(),u=f("button"),p.c(),c(i,"class","flex items-center"),c(u,"class","p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"),c(u,"title","Toggle theme"),c(r,"class","flex justify-between items-center py-4"),c(t,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"),c(e,"class","bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700")},m(h,v){C(h,e,v),a(e,t),a(t,r),a(r,i),a(r,l),a(r,u),p.m(u,null),o||(d=R(u,"click",n[1]),o=!0)},p(h,[v]){m!==(m=s(h))&&(p.d(1),p=m(h),p&&(p.c(),p.m(u,null)))},i:le,o:le,d(h){h&&D(e),p.d(),o=!1,d()}}}function Nn(n,e,t){let r="light";se.subscribe(l=>{t(0,r=l.settings.theme),typeof document<"u"&&document.documentElement.classList.toggle("dark",r==="dark")});function i(){const l=r==="light"?"dark":"light";se.updateSettings({theme:l})}return[r,i]}class Hn extends Se{constructor(e){super(),we(this,e,Nn,Pn,be,{})}}function vt(n,e,t){const r=n.slice();return r[6]=e[t],r}function Ln(n){let e,t=[],r=new Map,i,l=n[2];const u=o=>o[6].id;for(let o=0;o<l.length;o+=1){let d=vt(n,l,o),s=u(d);r.set(s,t[o]=wt(s,d))}return{c(){e=f("div");for(let o=0;o<t.length;o+=1)t[o].c();c(e,"class","grid gap-6 md:grid-cols-2 lg:grid-cols-3 items-start")},m(o,d){C(o,e,d);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null);i=!0},p(o,d){d&20&&(l=o[2],ke(),t=He(t,d,u,1,o,l,r,e,Ve,wt,null,vt),ye())},i(o){if(!i){for(let d=0;d<l.length;d+=1)Z(t[d]);i=!0}},o(o){for(let d=0;d<t.length;d+=1)te(t[d]);i=!1},d(o){o&&D(e);for(let d=0;d<t.length;d+=1)t[d].d()}}}function An(n){let e,t,r,i,l,u,o,d,s,m,p;return{c(){e=f("div"),t=de("svg"),r=de("path"),i=j(),l=f("h2"),l.textContent="No TODOs yet",u=j(),o=f("p"),o.textContent="Create your first TODO to start tracking game activities",d=j(),s=f("button"),s.innerHTML=`<svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
        Create Your First TODO`,c(r,"stroke-linecap","round"),c(r,"stroke-linejoin","round"),c(r,"stroke-width","1"),c(r,"d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"),c(t,"class","w-24 h-24 mx-auto text-gray-300 dark:text-gray-600 mb-4"),c(t,"fill","none"),c(t,"stroke","currentColor"),c(t,"viewBox","0 0 24 24"),c(l,"class","text-xl font-semibold text-gray-900 dark:text-white mb-2"),c(o,"class","text-gray-600 dark:text-gray-300 mb-6"),c(s,"class","inline-flex items-center px-6 py-3 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-900 transition-colors"),c(e,"class","text-center py-12")},m(h,v){C(h,e,v),a(e,t),a(t,r),a(e,i),a(e,l),a(e,u),a(e,o),a(e,d),a(e,s),m||(p=R(s,"click",n[3]),m=!0)},p:le,i:le,o:le,d(h){h&&D(e),m=!1,p()}}}function wt(n,e){let t,r,i;return r=new kn({props:{project:e[6]}}),r.$on("edit",e[4]),{key:n,first:null,c(){t=Ie(),ve(r.$$.fragment),this.first=t},m(l,u){C(l,t,u),me(r,l,u),i=!0},p(l,u){e=l;const o={};u&4&&(o.project=e[6]),r.$set(o)},i(l){i||(Z(r.$$.fragment,l),i=!0)},o(l){te(r.$$.fragment,l),i=!1},d(l){l&&D(t),he(r,l)}}}function St(n){let e,t;return e=new On({props:{editingProject:n[1]}}),e.$on("close",n[5]),{c(){ve(e.$$.fragment)},m(r,i){me(e,r,i),t=!0},p(r,i){const l={};i&2&&(l.editingProject=r[1]),e.$set(l)},i(r){t||(Z(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function Bn(n){let e,t,r,i,l,u,o,d,s,m,p,h,v,g,_;e=new Hn({});const b=[An,Ln],x=[];function S(k,w){return k[2].length===0?0:1}s=S(n),m=x[s]=b[s](n);let y=n[0]&&St(n);return{c(){ve(e.$$.fragment),t=j(),r=f("main"),i=f("div"),l=f("div"),l.innerHTML=`<h1 class="text-3xl font-bold text-gray-900 dark:text-white">Game TODO Tracker</h1> 
      <p class="mt-2 text-gray-600 dark:text-gray-300">Track your daily and weekly game activities</p>`,u=j(),o=f("button"),o.innerHTML=`<svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
      Add TODO`,d=j(),m.c(),p=j(),y&&y.c(),h=Ie(),c(o,"class","inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-900 transition-colors"),c(i,"class","flex justify-between items-center mb-8"),c(r,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8")},m(k,w){me(e,k,w),C(k,t,w),C(k,r,w),a(r,i),a(i,l),a(i,u),a(i,o),a(r,d),x[s].m(r,null),C(k,p,w),y&&y.m(k,w),C(k,h,w),v=!0,g||(_=R(o,"click",n[3]),g=!0)},p(k,[w]){let E=s;s=S(k),s===E?x[s].p(k,w):(ke(),te(x[E],1,1,()=>{x[E]=null}),ye(),m=x[s],m?m.p(k,w):(m=x[s]=b[s](k),m.c()),Z(m,1),m.m(r,null)),k[0]?y?(y.p(k,w),w&1&&Z(y,1)):(y=St(k),y.c(),Z(y,1),y.m(h.parentNode,h)):y&&(ke(),te(y,1,1,()=>{y=null}),ye())},i(k){v||(Z(e.$$.fragment,k),Z(m),Z(y),v=!0)},o(k){te(e.$$.fragment,k),te(m),te(y),v=!1},d(k){he(e,k),k&&D(t),k&&D(r),x[s].d(),k&&D(p),y&&y.d(k),k&&D(h),g=!1,_()}}}function Rn(n,e,t){let r=!1,i=null,l=[];se.subscribe(s=>{t(2,l=s.projects)});function u(){t(1,i=null),t(0,r=!0)}function o(s){t(1,i=s.detail),t(0,r=!0)}function d(){t(0,r=!1),t(1,i=null)}return[r,i,l,u,o,d]}class Jn extends Se{constructor(e){super(),we(this,e,Rn,Bn,be,{})}}function zn(n){let e,t,r,i,l;return e=new rn({}),i=new Jn({}),{c(){ve(e.$$.fragment),t=j(),r=f("div"),ve(i.$$.fragment),c(r,"class","min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors")},m(u,o){me(e,u,o),C(u,t,o),C(u,r,o),me(i,r,null),l=!0},p:le,i(u){l||(Z(e.$$.fragment,u),Z(i.$$.fragment,u),l=!0)},o(u){te(e.$$.fragment,u),te(i.$$.fragment,u),l=!1},d(u){he(e,u),u&&D(t),u&&D(r),he(i)}}}function Fn(n){return qe(()=>{se.init();const e=setInterval(()=>{se.checkResets()},6e4);return()=>clearInterval(e)}),[]}class Wn extends Se{constructor(e){super(),we(this,e,Fn,zn,be,{})}}new Wn({target:document.getElementById("app")});
