(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function Q(){}function st(t){return t()}function Ee(){return Object.create(null)}function ee(t){t.forEach(st)}function at(t){return typeof t=="function"}function ae(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function mt(t){return Object.keys(t).length===0}function s(t,e){t.appendChild(e)}function M(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function p(t){return document.createElement(t)}function Z(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function A(t){return document.createTextNode(t)}function x(){return A(" ")}function xe(){return A("")}function H(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function c(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function gt(t){let e;return{p(...n){e=n,e.forEach(r=>t.push(r))},r(){e.forEach(n=>t.splice(t.indexOf(n),1))}}}function ht(t){return Array.from(t.childNodes)}function W(t,e){e=""+e,t.data!==e&&(t.data=e)}function ne(t,e){t.value=e==null?"":e}function Te(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function $e(t,e,n){for(let r=0;r<t.options.length;r+=1){const l=t.options[r];if(l.__value===e){l.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Ne(t){const e=t.querySelector(":checked");return e&&e.__value}function P(t,e,n){t.classList[n?"add":"remove"](e)}function _t(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(t,n,r,e),l}let ve;function ye(t){ve=t}function dt(){if(!ve)throw new Error("Function called outside component initialization");return ve}function ct(t){dt().$$.on_mount.push(t)}function bt(){const t=dt();return(e,n,{cancelable:r=!1}={})=>{const l=t.$$.callbacks[e];if(l){const i=_t(e,n,{cancelable:r});return l.slice().forEach(a=>{a.call(t,i)}),!i.defaultPrevented}return!0}}const he=[],Oe=[];let _e=[];const Le=[],kt=Promise.resolve();let Ie=!1;function yt(){Ie||(Ie=!0,kt.then(ut))}function we(t){_e.push(t)}const Me=new Set;let me=0;function ut(){if(me!==0)return;const t=ve;do{try{for(;me<he.length;){const e=he[me];me++,ye(e),vt(e.$$)}}catch(e){throw he.length=0,me=0,e}for(ye(null),he.length=0,me=0;Oe.length;)Oe.pop()();for(let e=0;e<_e.length;e+=1){const n=_e[e];Me.has(n)||(Me.add(n),n())}_e.length=0}while(he.length);for(;Le.length;)Le.pop()();Ie=!1,Me.clear(),ye(t)}function vt(t){if(t.fragment!==null){t.update(),ee(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(we)}}function wt(t){const e=[],n=[];_e.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),_e=e}const Ce=new Set;let de;function be(){de={r:0,c:[],p:de}}function ke(){de.r||ee(de.c),de=de.p}function J(t,e){t&&t.i&&(Ce.delete(t),t.i(e))}function q(t,e,n,r){if(t&&t.o){if(Ce.has(t))return;Ce.add(t),de.c.push(()=>{Ce.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function ft(t,e){t.d(1),e.delete(t.key)}function De(t,e){q(t,1,1,()=>{e.delete(t.key)})}function je(t,e,n,r,l,i,a,o,u,d,f,g){let m=t.length,k=i.length,b=m;const y={};for(;b--;)y[t[b].key]=b;const h=[],_=new Map,v=new Map,j=[];for(b=k;b--;){const $=g(l,i,b),L=n($);let B=a.get(L);B?r&&j.push(()=>B.p($,e)):(B=d(L,$),B.c()),_.set(L,h[b]=B),L in y&&v.set(L,Math.abs(b-y[L]))}const w=new Set,C=new Set;function D($){J($,1),$.m(o,f),a.set($.key,$),f=$.first,k--}for(;m&&k;){const $=h[k-1],L=t[m-1],B=$.key,z=L.key;$===L?(f=$.first,m--,k--):_.has(z)?!a.has(B)||w.has(B)?D($):C.has(z)?m--:v.get(B)>v.get(z)?(C.add(B),D($)):(w.add(z),m--):(u(L,a),m--)}for(;m--;){const $=t[m];_.has($.key)||u($,a)}for(;k;)D(h[k-1]);return ee(j),h}function ce(t){t&&t.c()}function oe(t,e,n,r){const{fragment:l,after_update:i}=t.$$;l&&l.m(e,n),r||we(()=>{const a=t.$$.on_mount.map(st).filter(at);t.$$.on_destroy?t.$$.on_destroy.push(...a):ee(a),t.$$.on_mount=[]}),i.forEach(we)}function se(t,e){const n=t.$$;n.fragment!==null&&(wt(n.after_update),ee(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function xt(t,e){t.$$.dirty[0]===-1&&(he.push(t),yt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ue(t,e,n,r,l,i,a,o=[-1]){const u=ve;ye(t);const d=t.$$={fragment:null,ctx:[],props:i,update:Q,not_equal:l,bound:Ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Ee(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};a&&a(d.root);let f=!1;if(d.ctx=n?n(t,e.props||{},(g,m,...k)=>{const b=k.length?k[0]:m;return d.ctx&&l(d.ctx[g],d.ctx[g]=b)&&(!d.skip_bound&&d.bound[g]&&d.bound[g](b),f&&xt(t,g)),m}):[],d.update(),f=!0,ee(d.before_update),d.fragment=r?r(d.ctx):!1,e.target){if(e.hydrate){const g=ht(e.target);d.fragment&&d.fragment.l(g),g.forEach(T)}else d.fragment&&d.fragment.c();e.intro&&J(t.$$.fragment),oe(t,e.target,e.anchor,e.customElement),ut()}ye(u)}class fe{$destroy(){se(this,1),this.$destroy=Q}$on(e,n){if(!at(n))return Q;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!mt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class jt extends fe{constructor(e){super(),ue(this,e,null,null,ae,{})}}const ge=[];function St(t,e=Q){let n;const r=new Set;function l(o){if(ae(t,o)&&(t=o,n)){const u=!ge.length;for(const d of r)d[1](),ge.push(d,t);if(u){for(let d=0;d<ge.length;d+=2)ge[d][0](ge[d+1]);ge.length=0}}}function i(o){l(o(t))}function a(o,u=Q){const d=[o,u];return r.add(d),r.size===1&&(n=e(l)||Q),o(t),()=>{r.delete(d),r.size===0&&n&&(n(),n=null)}}return{set:l,update:i,subscribe:a}}const le="game-todo-data",Ct={projects:[],settings:{theme:"light"}};function Tt(){const{subscribe:t,set:e,update:n}=St(Ct);return{subscribe:t,init:()=>{if(typeof window<"u"){const r=localStorage.getItem(le);if(r)try{const l=JSON.parse(r);e(l)}catch(l){console.error("Failed to parse stored todo data:",l)}}},save:r=>{typeof window<"u"&&localStorage.setItem(le,JSON.stringify(r)),e(r)},addProject:r=>{n(l=>{const i={...l,projects:[...l.projects,r]};return typeof window<"u"&&localStorage.setItem(le,JSON.stringify(i)),i})},updateProject:(r,l)=>{n(i=>{const a={...i,projects:i.projects.map(o=>o.id===r?{...o,...l}:o)};return typeof window<"u"&&localStorage.setItem(le,JSON.stringify(a)),a})},deleteProject:r=>{n(l=>{const i={...l,projects:l.projects.filter(a=>a.id!==r)};return typeof window<"u"&&localStorage.setItem(le,JSON.stringify(i)),i})},updateTodoStatus:(r,l,i)=>{n(a=>{const o={...a,projects:a.projects.map(u=>u.id===r?{...u,items:u.items.map(d=>d.id===l?{...d,status:i}:d)}:u)};return typeof window<"u"&&localStorage.setItem(le,JSON.stringify(o)),o})},addTodoItem:(r,l)=>{n(i=>{const a={...i,projects:i.projects.map(o=>o.id===r?{...o,items:[...o.items,l]}:o)};return typeof window<"u"&&localStorage.setItem(le,JSON.stringify(a)),a})},updateSettings:r=>{n(l=>{const i={...l,settings:{...l.settings,...r}};return typeof window<"u"&&localStorage.setItem(le,JSON.stringify(i)),i})},checkResets:()=>{n(r=>{const l=Date.now();let i=!1;const a={...r,projects:r.projects.map(o=>({...o,items:o.items.map(u=>$t(u.resetTime,u.lastReset,l)?(i=!0,{...u,status:"pending",lastReset:l}):u)}))};return i&&typeof window<"u"&&localStorage.setItem(le,JSON.stringify(a)),a})}}}function $t(t,e,n){const r=new Date(n);if(t.type==="daily"){const[l,i]=t.time.split(":").map(Number),a=new Date(r);return a.setHours(l,i,0,0),r<a&&a.setDate(a.getDate()-1),e<a.getTime()}else if(t.type==="weekly"){const[l,i]=t.time.split(":").map(Number),a=t.weekday||0,o=new Date(r),u=o.getDay()-a;return o.setDate(o.getDate()-(u>=0?u:u+7)),o.setHours(l,i,0,0),r<o&&o.setDate(o.getDate()-7),e<o.getTime()}return!1}const ie=Tt();function He(t,e,n){const r=t.slice();return r[7]=e[n],r}function Mt(t){let e,n,r,l,i,a=t[0].name+"",o,u,d,f=Je(t[0].resetTime)+"",g,m,k,b,y=t[0].status==="completed"&&Ae(),h=t[0].description&&Be(t);return{c(){e=p("button"),y&&y.c(),n=x(),r=p("div"),l=p("div"),i=p("h4"),o=A(a),u=x(),d=p("span"),g=A(f),m=x(),h&&h.c(),c(e,"class","flex-shrink-0 w-5 h-5 rounded border-2 border-gray-300 dark:border-gray-600 flex items-center justify-center transition-all duration-200"),P(e,"bg-indigo-600",t[0].status==="completed"),P(e,"border-indigo-600",t[0].status==="completed"),P(e,"dark:border-indigo-500",t[0].status==="completed"),P(e,"dark:bg-indigo-500",t[0].status==="completed"),c(i,"class","font-medium transition-colors"),P(i,"text-gray-900",t[0].status==="pending"),P(i,"dark:text-white",t[0].status==="pending"),P(i,"text-gray-500",t[0].status==="completed"),P(i,"dark:text-gray-400",t[0].status==="completed"),P(i,"line-through",t[0].status==="completed"),c(d,"class","text-xs text-gray-500 dark:text-gray-400 ml-2"),c(l,"class","flex items-center justify-between"),c(r,"class","flex-1")},m(_,v){M(_,e,v),y&&y.m(e,null),M(_,n,v),M(_,r,v),s(r,l),s(l,i),s(i,o),s(l,u),s(l,d),s(d,g),s(r,m),h&&h.m(r,null),k||(b=H(e,"click",t[5]),k=!0)},p(_,v){_[0].status==="completed"?y||(y=Ae(),y.c(),y.m(e,null)):y&&(y.d(1),y=null),v&1&&P(e,"bg-indigo-600",_[0].status==="completed"),v&1&&P(e,"border-indigo-600",_[0].status==="completed"),v&1&&P(e,"dark:border-indigo-500",_[0].status==="completed"),v&1&&P(e,"dark:bg-indigo-500",_[0].status==="completed"),v&1&&a!==(a=_[0].name+"")&&W(o,a),v&1&&P(i,"text-gray-900",_[0].status==="pending"),v&1&&P(i,"dark:text-white",_[0].status==="pending"),v&1&&P(i,"text-gray-500",_[0].status==="completed"),v&1&&P(i,"dark:text-gray-400",_[0].status==="completed"),v&1&&P(i,"line-through",_[0].status==="completed"),v&1&&f!==(f=Je(_[0].resetTime)+"")&&W(g,f),_[0].description?h?h.p(_,v):(h=Be(_),h.c(),h.m(r,null)):h&&(h.d(1),h=null)},d(_){_&&T(e),y&&y.d(),_&&T(n),_&&T(r),h&&h.d(),k=!1,b()}}}function It(t){let e,n,r,l,i,a,o=t[0].name+"",u,d,f=t[0].description&&ze(t);return{c(){e=p("div"),n=Z("svg"),r=Z("path"),l=x(),i=p("div"),a=p("h4"),u=A(o),d=x(),f&&f.c(),c(r,"stroke-linecap","round"),c(r,"stroke-linejoin","round"),c(r,"stroke-width","2"),c(r,"d","M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"),c(n,"class","w-5 h-5 text-indigo-600 dark:text-indigo-400"),c(n,"fill","none"),c(n,"stroke","currentColor"),c(n,"viewBox","0 0 24 24"),c(a,"class","font-medium text-gray-900 dark:text-white"),c(i,"class","flex-1"),c(e,"class","flex items-center gap-2 flex-1")},m(g,m){M(g,e,m),s(e,n),s(n,r),s(e,l),s(e,i),s(i,a),s(a,u),s(i,d),f&&f.m(i,null)},p(g,m){m&1&&o!==(o=g[0].name+"")&&W(u,o),g[0].description?f?f.p(g,m):(f=ze(g),f.c(),f.m(i,null)):f&&(f.d(1),f=null)},d(g){g&&T(e),f&&f.d()}}}function Ae(t){let e,n;return{c(){e=Z("svg"),n=Z("path"),c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(n,"stroke-width","3"),c(n,"d","M5 13l4 4L19 7"),c(e,"class","w-3 h-3 text-white"),c(e,"fill","none"),c(e,"stroke","currentColor"),c(e,"viewBox","0 0 24 24")},m(r,l){M(r,e,l),s(e,n)},d(r){r&&T(e)}}}function Be(t){let e,n=t[0].description+"",r;return{c(){e=p("p"),r=A(n),c(e,"class","text-sm mt-1 transition-colors"),P(e,"text-gray-600",t[0].status==="pending"),P(e,"dark:text-gray-300",t[0].status==="pending"),P(e,"text-gray-400",t[0].status==="completed"),P(e,"dark:text-gray-500",t[0].status==="completed")},m(l,i){M(l,e,i),s(e,r)},p(l,i){i&1&&n!==(n=l[0].description+"")&&W(r,n),i&1&&P(e,"text-gray-600",l[0].status==="pending"),i&1&&P(e,"dark:text-gray-300",l[0].status==="pending"),i&1&&P(e,"text-gray-400",l[0].status==="completed"),i&1&&P(e,"dark:text-gray-500",l[0].status==="completed")},d(l){l&&T(e)}}}function ze(t){let e,n=t[0].description+"",r;return{c(){e=p("p"),r=A(n),c(e,"class","text-sm text-gray-600 dark:text-gray-300 mt-1")},m(l,i){M(l,e,i),s(e,r)},p(l,i){i&1&&n!==(n=l[0].description+"")&&W(r,n)},d(l){l&&T(e)}}}function Fe(t,e){let n,r,l;return r=new pt({props:{item:e[7],projectId:e[1],allItems:e[2],depth:e[3]+1}}),{key:t,first:null,c(){n=xe(),ce(r.$$.fragment),this.first=n},m(i,a){M(i,n,a),oe(r,i,a),l=!0},p(i,a){e=i;const o={};a&16&&(o.item=e[7]),a&2&&(o.projectId=e[1]),a&4&&(o.allItems=e[2]),a&8&&(o.depth=e[3]+1),r.$set(o)},i(i){l||(J(r.$$.fragment,i),l=!0)},o(i){q(r.$$.fragment,i),l=!1},d(i){i&&T(n),se(r,i)}}}function Dt(t){let e,n,r,l=[],i=new Map,a;function o(m,k){return m[0].isSection?It:Mt}let u=o(t),d=u(t),f=t[4];const g=m=>m[7].id;for(let m=0;m<f.length;m+=1){let k=He(t,f,m),b=g(k);i.set(b,l[m]=Fe(b,k))}return{c(){e=p("div"),n=p("div"),d.c(),r=x();for(let m=0;m<l.length;m+=1)l[m].c();c(n,"class","flex items-center gap-3 p-3 rounded-lg border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"),P(n,"opacity-60",t[0].status==="completed"&&!t[0].isSection),c(e,"class","space-y-1"),Te(e,"margin-left",t[3]*1.5+"rem")},m(m,k){M(m,e,k),s(e,n),d.m(n,null),s(e,r);for(let b=0;b<l.length;b+=1)l[b]&&l[b].m(e,null);a=!0},p(m,[k]){u===(u=o(m))&&d?d.p(m,k):(d.d(1),d=u(m),d&&(d.c(),d.m(n,null))),(!a||k&1)&&P(n,"opacity-60",m[0].status==="completed"&&!m[0].isSection),k&30&&(f=m[4],be(),l=je(l,k,g,1,m,f,i,e,De,Fe,null,He),ke()),(!a||k&8)&&Te(e,"margin-left",m[3]*1.5+"rem")},i(m){if(!a){for(let k=0;k<f.length;k+=1)J(l[k]);a=!0}},o(m){for(let k=0;k<l.length;k+=1)q(l[k]);a=!1},d(m){m&&T(e),d.d();for(let k=0;k<l.length;k+=1)l[k].d()}}}function Je(t){return t.type==="daily"?`Daily at ${t.time}`:`Weekly ${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.weekday||0]} at ${t.time}`}function Pt(t,e,n){let r,{item:l}=e,{projectId:i}=e,{allItems:a}=e,{depth:o=0}=e;function u(){if(!l.isSection){const d=l.status==="completed"?"pending":"completed";ie.updateTodoStatus(i,l.id,d)}}return t.$$set=d=>{"item"in d&&n(0,l=d.item),"projectId"in d&&n(1,i=d.projectId),"allItems"in d&&n(2,a=d.allItems),"depth"in d&&n(3,o=d.depth)},t.$$.update=()=>{t.$$.dirty&5&&n(4,r=a.filter(d=>d.parentId===l.id)),t.$$.dirty&8},[l,i,a,o,r,u]}class pt extends fe{constructor(e){super(),ue(this,e,Pt,Dt,ae,{item:0,projectId:1,allItems:2,depth:3})}}function Re(t,e,n){const r=t.slice();return r[9]=e[n],r}function Ve(t){let e,n=t[0].description+"",r;return{c(){e=p("p"),r=A(n),c(e,"class","text-sm text-gray-600 dark:text-gray-300 mb-3")},m(l,i){M(l,e,i),s(e,r)},p(l,i){i&1&&n!==(n=l[0].description+"")&&W(r,n)},d(l){l&&T(e)}}}function We(t){let e,n=[],r=new Map,l,i=t[4];const a=o=>o[9].id;for(let o=0;o<i.length;o+=1){let u=Re(t,i,o),d=a(u);r.set(d,n[o]=qe(d,u))}return{c(){e=p("div");for(let o=0;o<n.length;o+=1)n[o].c();c(e,"class","border-t border-gray-200 dark:border-gray-700 pt-4 space-y-2")},m(o,u){M(o,e,u);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);l=!0},p(o,u){u&17&&(i=o[4],be(),n=je(n,u,a,1,o,i,r,e,De,qe,null,Re),ke())},i(o){if(!l){for(let u=0;u<i.length;u+=1)J(n[u]);l=!0}},o(o){for(let u=0;u<n.length;u+=1)q(n[u]);l=!1},d(o){o&&T(e);for(let u=0;u<n.length;u+=1)n[u].d()}}}function qe(t,e){let n,r,l;return r=new pt({props:{item:e[9],projectId:e[0].id,allItems:e[0].items,depth:0}}),{key:t,first:null,c(){n=xe(),ce(r.$$.fragment),this.first=n},m(i,a){M(i,n,a),oe(r,i,a),l=!0},p(i,a){e=i;const o={};a&16&&(o.item=e[9]),a&1&&(o.projectId=e[0].id),a&1&&(o.allItems=e[0].items),r.$set(o)},i(i){l||(J(r.$$.fragment,i),l=!0)},o(i){q(r.$$.fragment,i),l=!1},d(i){i&&T(n),se(r,i)}}}function Et(t){let e,n,r,l,i,a=t[0].name+"",o,u,d,f,g,m,k,b,y,h,_,v,j,w,C,D,$,L,B,z,R,V,G,U,E=t[0].description&&Ve(t),N=t[3]&&We(t);return{c(){e=p("div"),n=p("div"),r=p("div"),l=p("div"),i=p("h3"),o=A(a),u=x(),E&&E.c(),d=x(),f=p("div"),g=p("div"),m=p("div"),k=x(),b=p("span"),y=A(t[2]),h=A("/"),_=A(t[1]),v=x(),j=p("div"),w=p("button"),C=Z("svg"),D=Z("path"),B=x(),z=p("button"),z.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>',R=x(),N&&N.c(),c(i,"class","text-lg font-semibold text-gray-900 dark:text-white mb-2"),c(m,"class","bg-indigo-600 dark:bg-indigo-500 h-2 rounded-full transition-all duration-300"),Te(m,"width",t[5]+"%"),c(g,"class","flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2"),c(b,"class","text-sm font-medium text-gray-900 dark:text-white"),c(f,"class","flex items-center gap-3 mb-3"),c(l,"class","flex-1"),c(D,"stroke-linecap","round"),c(D,"stroke-linejoin","round"),c(D,"stroke-width","2"),c(D,"d","M19 9l-7 7-7-7"),c(C,"class",$="w-5 h-5 transform transition-transform "+(t[3]?"rotate-180":"")),c(C,"fill","none"),c(C,"stroke","currentColor"),c(C,"viewBox","0 0 24 24"),c(w,"class","p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"),c(w,"title",L=t[3]?"Collapse":"Expand"),c(z,"class","p-2 rounded-lg text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors"),c(z,"title","Delete project"),c(j,"class","flex items-center gap-2 ml-4"),c(r,"class","flex items-start justify-between mb-4"),c(n,"class","p-6"),c(e,"class","bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden")},m(I,F){M(I,e,F),s(e,n),s(n,r),s(r,l),s(l,i),s(i,o),s(l,u),E&&E.m(l,null),s(l,d),s(l,f),s(f,g),s(g,m),s(f,k),s(f,b),s(b,y),s(b,h),s(b,_),s(r,v),s(r,j),s(j,w),s(w,C),s(C,D),s(j,B),s(j,z),s(n,R),N&&N.m(n,null),V=!0,G||(U=[H(w,"click",t[6]),H(z,"click",t[7])],G=!0)},p(I,[F]){(!V||F&1)&&a!==(a=I[0].name+"")&&W(o,a),I[0].description?E?E.p(I,F):(E=Ve(I),E.c(),E.m(l,d)):E&&(E.d(1),E=null),(!V||F&32)&&Te(m,"width",I[5]+"%"),(!V||F&4)&&W(y,I[2]),(!V||F&2)&&W(_,I[1]),(!V||F&8&&$!==($="w-5 h-5 transform transition-transform "+(I[3]?"rotate-180":"")))&&c(C,"class",$),(!V||F&8&&L!==(L=I[3]?"Collapse":"Expand"))&&c(w,"title",L),I[3]?N?(N.p(I,F),F&8&&J(N,1)):(N=We(I),N.c(),J(N,1),N.m(n,null)):N&&(be(),q(N,1,1,()=>{N=null}),ke())},i(I){V||(J(N),V=!0)},o(I){q(N),V=!1},d(I){I&&T(e),E&&E.d(),N&&N.d(),G=!1,ee(U)}}}function Nt(t,e,n){let r,l,i,a,{project:o}=e,u=!1;function d(){n(3,u=!u)}function f(){confirm(`Are you sure you want to delete "${o.name}"?`)&&ie.deleteProject(o.id)}return t.$$set=g=>{"project"in g&&n(0,o=g.project)},t.$$.update=()=>{t.$$.dirty&1&&n(2,r=o.items.filter(g=>!g.isSection&&g.status==="completed").length),t.$$.dirty&1&&n(1,l=o.items.filter(g=>!g.isSection).length),t.$$.dirty&6&&n(5,i=l>0?r/l*100:0),t.$$.dirty&1&&n(4,a=o.items.filter(g=>!g.parentId))},[o,l,r,u,a,i,d,f]}class Ot extends fe{constructor(e){super(),ue(this,e,Nt,Et,ae,{project:0})}}function Ge(t,e,n){const r=t.slice();return r[36]=e[n],r}function Ke(t,e,n){const r=t.slice();return r[33]=e[n],r}function Lt(t){let e,n,r,l,i,a,o,u,d,f,g,m,k,b,y,h,_,v,j,w,C,D,$=[],L=new Map,B,z,R,V,G,U,E,N,I,F=t[4];const re=S=>S[36].id;for(let S=0;S<F.length;S+=1){let O=Ge(t,F,S),Y=re(O);L.set(Y,$[S]=Qe(Y,O))}return{c(){e=p("div"),n=p("div"),r=p("button"),r.textContent="\u2190 Back to Presets",l=x(),i=p("div"),a=p("div"),o=p("label"),o.textContent="Project Name *",u=x(),d=p("input"),f=x(),g=p("div"),m=p("label"),m.textContent="Description (Optional)",k=x(),b=p("textarea"),y=x(),h=p("div"),_=p("div"),v=p("h3"),v.textContent="Tasks & Sections",j=x(),w=p("button"),w.innerHTML=`<svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
                Add Item`,C=x(),D=p("div");for(let S=0;S<$.length;S+=1)$[S].c();B=x(),z=p("div"),R=p("button"),R.textContent="Cancel",V=x(),G=p("button"),U=A("Create Project"),c(r,"class","text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 mb-4"),c(o,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"),c(d,"type","text"),c(d,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"),c(d,"placeholder","Enter project name"),c(m,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"),c(b,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"),c(b,"placeholder","Describe your project"),c(b,"rows","2"),c(i,"class","space-y-4"),c(v,"class","text-lg font-medium text-gray-900 dark:text-white"),c(w,"class","inline-flex items-center px-3 py-1 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300"),c(_,"class","flex items-center justify-between mb-4"),c(D,"class","space-y-2 max-h-40 overflow-y-auto"),c(R,"class","flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"),G.disabled=E=!t[2].trim(),c(G,"class","flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"),c(z,"class","flex gap-3 pt-6 border-t border-gray-200 dark:border-gray-600"),c(e,"class","space-y-6")},m(S,O){M(S,e,O),s(e,n),s(n,r),s(n,l),s(n,i),s(i,a),s(a,o),s(a,u),s(a,d),ne(d,t[2]),s(i,f),s(i,g),s(g,m),s(g,k),s(g,b),ne(b,t[3]),s(e,y),s(e,h),s(h,_),s(_,v),s(_,j),s(_,w),s(h,C),s(h,D);for(let Y=0;Y<$.length;Y+=1)$[Y]&&$[Y].m(D,null);s(e,B),s(e,z),s(z,R),s(z,V),s(z,G),s(G,U),N||(I=[H(r,"click",t[17]),H(d,"input",t[18]),H(b,"input",t[19]),H(w,"click",t[10]),H(R,"click",t[14]),H(G,"click",t[9])],N=!0)},p(S,O){O[0]&4&&d.value!==S[2]&&ne(d,S[2]),O[0]&8&&ne(b,S[3]),O[0]&8208&&(F=S[4],$=je($,O,re,1,S,F,L,D,ft,Qe,null,Ge)),O[0]&4&&E!==(E=!S[2].trim())&&(G.disabled=E)},d(S){S&&T(e);for(let O=0;O<$.length;O+=1)$[O].d();N=!1,ee(I)}}}function Ht(t){let e,n,r,l,i=[],a=new Map,o,u,d,f,g,m=t[1];const k=b=>b[33].name;for(let b=0;b<m.length;b+=1){let y=Ke(t,m,b),h=k(y);a.set(h,i[b]=Xe(h,y))}return{c(){e=p("div"),n=p("div"),n.innerHTML=`<h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2">Choose a Preset</h3> 
            <p class="text-gray-600 dark:text-gray-300">Start with a pre-configured template or create a custom project</p>`,r=x(),l=p("div");for(let b=0;b<i.length;b+=1)i[b].c();o=x(),u=p("div"),d=p("button"),d.innerHTML=`<svg class="w-8 h-8 mx-auto text-gray-400 dark:text-gray-500 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> 
              <span class="text-sm font-medium text-gray-900 dark:text-white">Create Custom Project</span>`,c(n,"class","text-center"),c(l,"class","grid gap-4"),c(d,"class","w-full p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg text-center hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors"),c(u,"class","border-t border-gray-200 dark:border-gray-600 pt-6"),c(e,"class","space-y-6")},m(b,y){M(b,e,y),s(e,n),s(e,r),s(e,l);for(let h=0;h<i.length;h+=1)i[h]&&i[h].m(l,null);s(e,o),s(e,u),s(u,d),f||(g=H(d,"click",t[8]),f=!0)},p(b,y){y[0]&130&&(m=b[1],i=je(i,y,k,1,b,m,a,l,ft,Xe,null,Ke))},d(b){b&&T(e);for(let y=0;y<i.length;y+=1)i[y].d();f=!1,g()}}}function Ye(t){let e,n=t[36].description+"",r;return{c(){e=p("p"),r=A(n),c(e,"class","text-sm text-gray-600 dark:text-gray-300")},m(l,i){M(l,e,i),s(e,r)},p(l,i){i[0]&16&&n!==(n=l[36].description+"")&&W(r,n)},d(l){l&&T(e)}}}function Qe(t,e){let n,r,l,i=e[36].isSection?"\u{1F4C1}":"\u{1F4CB}",a,o,u=e[36].name+"",d,f,g,m,k,b,y,h=e[36].description&&Ye(e);function _(){return e[20](e[36])}return{key:t,first:null,c(){n=p("div"),r=p("div"),l=p("span"),a=A(i),o=x(),d=A(u),f=x(),h&&h.c(),g=x(),m=p("button"),m.innerHTML='<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>',k=x(),c(l,"class","font-medium text-gray-900 dark:text-white"),c(r,"class","flex-1"),c(m,"class","text-gray-400 hover:text-red-600"),c(n,"class","flex items-center gap-3 p-3 border border-gray-200 dark:border-gray-600 rounded-lg"),this.first=n},m(v,j){M(v,n,j),s(n,r),s(r,l),s(l,a),s(l,o),s(l,d),s(r,f),h&&h.m(r,null),s(n,g),s(n,m),s(n,k),b||(y=H(m,"click",_),b=!0)},p(v,j){e=v,j[0]&16&&i!==(i=e[36].isSection?"\u{1F4C1}":"\u{1F4CB}")&&W(a,i),j[0]&16&&u!==(u=e[36].name+"")&&W(d,u),e[36].description?h?h.p(e,j):(h=Ye(e),h.c(),h.m(r,null)):h&&(h.d(1),h=null)},d(v){v&&T(n),h&&h.d(),b=!1,y()}}}function Ue(t){let e,n=t[33].description+"",r;return{c(){e=p("p"),r=A(n),c(e,"class","text-sm text-gray-600 dark:text-gray-300 mb-2")},m(l,i){M(l,e,i),s(e,r)},p(l,i){i[0]&2&&n!==(n=l[33].description+"")&&W(r,n)},d(l){l&&T(e)}}}function Xe(t,e){let n,r,l=e[33].name+"",i,a,o,u,d=e[33].items.filter(nt).length+"",f,g,m=e[33].items.filter(rt).length+"",k,b,y,h,_,v=e[33].description&&Ue(e);function j(){return e[16](e[33])}return{key:t,first:null,c(){n=p("button"),r=p("h4"),i=A(l),a=x(),v&&v.c(),o=x(),u=p("p"),f=A(d),g=A(` tasks, 
                  `),k=A(m),b=A(" sections"),y=x(),c(r,"class","font-medium text-gray-900 dark:text-white mb-1"),c(u,"class","text-xs text-gray-500 dark:text-gray-400"),c(n,"class","p-4 border border-gray-200 dark:border-gray-600 rounded-lg text-left hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors"),this.first=n},m(w,C){M(w,n,C),s(n,r),s(r,i),s(n,a),v&&v.m(n,null),s(n,o),s(n,u),s(u,f),s(u,g),s(u,k),s(u,b),s(n,y),h||(_=H(n,"click",j),h=!0)},p(w,C){e=w,C[0]&2&&l!==(l=e[33].name+"")&&W(i,l),e[33].description?v?v.p(e,C):(v=Ue(e),v.c(),v.m(n,o)):v&&(v.d(1),v=null),C[0]&2&&d!==(d=e[33].items.filter(nt).length+"")&&W(f,d),C[0]&2&&m!==(m=e[33].items.filter(rt).length+"")&&W(k,m)},d(w){w&&T(n),v&&v.d(),h=!1,_()}}}function Ze(t){let e,n,r,l=t[5].isSection?"Add Section":"Add Task",i,a,o,u,d,f,g,m,k,b,y,h,_,v,j,w,C,D,$,L,B,z,R,V,G,U,E,N,I,F,re=t[5].isSection?"Section":"Task",S,O,Y,pe,Pe,X=!t[5].isSection&&et(t);return Y=gt(t[22][0]),{c(){e=p("div"),n=p("div"),r=p("h3"),i=A(l),a=x(),o=p("div"),u=p("div"),d=p("label"),f=p("input"),g=x(),m=p("span"),m.textContent="Task",k=x(),b=p("label"),y=p("input"),h=x(),_=p("span"),_.textContent="Section",v=x(),j=p("div"),w=p("label"),w.textContent="Name *",C=x(),D=p("input"),$=x(),L=p("div"),B=p("label"),B.textContent="Description",z=x(),R=p("input"),V=x(),X&&X.c(),G=x(),U=p("div"),E=p("button"),E.textContent="Cancel",N=x(),I=p("button"),F=A("Add "),S=A(re),c(r,"class","text-lg font-medium text-gray-900 dark:text-white mb-4"),c(f,"type","radio"),f.__value=!1,f.value=f.__value,c(f,"class","mr-2"),c(m,"class","text-sm text-gray-700 dark:text-gray-300"),c(d,"class","flex items-center"),c(y,"type","radio"),y.__value=!0,y.value=y.__value,c(y,"class","mr-2"),c(_,"class","text-sm text-gray-700 dark:text-gray-300"),c(b,"class","flex items-center"),c(u,"class","flex gap-4 mb-4"),c(w,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"),c(D,"type","text"),c(D,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"),c(B,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"),c(R,"type","text"),c(R,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"),c(o,"class","space-y-4"),c(E,"class","flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"),I.disabled=O=!t[5].name.trim(),c(I,"class","flex-1 px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"),c(U,"class","flex gap-2 mt-6"),c(n,"class","bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6"),c(e,"class","fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-60"),Y.p(f,y)},m(K,te){M(K,e,te),s(e,n),s(n,r),s(r,i),s(n,a),s(n,o),s(o,u),s(u,d),s(d,f),f.checked=f.__value===t[5].isSection,s(d,g),s(d,m),s(u,k),s(u,b),s(b,y),y.checked=y.__value===t[5].isSection,s(b,h),s(b,_),s(o,v),s(o,j),s(j,w),s(j,C),s(j,D),ne(D,t[5].name),s(o,$),s(o,L),s(L,B),s(L,z),s(L,R),ne(R,t[5].description),s(o,V),X&&X.m(o,null),s(n,G),s(n,U),s(U,E),s(U,N),s(U,I),s(I,F),s(I,S),pe||(Pe=[H(f,"change",t[21]),H(y,"change",t[23]),H(D,"input",t[24]),H(R,"input",t[25]),H(E,"click",t[12]),H(I,"click",t[11])],pe=!0)},p(K,te){te[0]&32&&l!==(l=K[5].isSection?"Add Section":"Add Task")&&W(i,l),te[0]&32&&(f.checked=f.__value===K[5].isSection),te[0]&32&&(y.checked=y.__value===K[5].isSection),te[0]&32&&D.value!==K[5].name&&ne(D,K[5].name),te[0]&32&&R.value!==K[5].description&&ne(R,K[5].description),K[5].isSection?X&&(X.d(1),X=null):X?X.p(K,te):(X=et(K),X.c(),X.m(o,null)),te[0]&32&&re!==(re=K[5].isSection?"Section":"Task")&&W(S,re),te[0]&32&&O!==(O=!K[5].name.trim())&&(I.disabled=O)},d(K){K&&T(e),X&&X.d(),Y.r(),pe=!1,ee(Pe)}}}function et(t){let e,n,r,l,i,a,o,u,d,f,g,m,k,b,y,h=t[5].resetTime.type==="weekly"&&tt(t);return{c(){e=p("div"),n=p("label"),n.textContent="Reset Schedule",r=x(),l=p("select"),i=p("option"),i.textContent="Daily",a=p("option"),a.textContent="Weekly",o=x(),u=p("div"),d=p("div"),f=p("label"),f.textContent="Time",g=x(),m=p("input"),k=x(),h&&h.c(),c(n,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"),i.__value="daily",i.value=i.__value,a.__value="weekly",a.value=a.__value,c(l,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"),t[5].resetTime.type===void 0&&we(()=>t[26].call(l)),c(f,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"),c(m,"type","time"),c(m,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"),c(d,"class","flex-1"),c(u,"class","flex gap-2")},m(_,v){M(_,e,v),s(e,n),s(e,r),s(e,l),s(l,i),s(l,a),$e(l,t[5].resetTime.type,!0),M(_,o,v),M(_,u,v),s(u,d),s(d,f),s(d,g),s(d,m),ne(m,t[5].resetTime.time),s(u,k),h&&h.m(u,null),b||(y=[H(l,"change",t[26]),H(m,"input",t[27])],b=!0)},p(_,v){v[0]&32&&$e(l,_[5].resetTime.type),v[0]&32&&ne(m,_[5].resetTime.time),_[5].resetTime.type==="weekly"?h?h.p(_,v):(h=tt(_),h.c(),h.m(u,null)):h&&(h.d(1),h=null)},d(_){_&&T(e),_&&T(o),_&&T(u),h&&h.d(),b=!1,ee(y)}}}function tt(t){let e,n,r,l,i,a,o,u,d,f,g,m,k;return{c(){e=p("div"),n=p("label"),n.textContent="Day",r=x(),l=p("select"),i=p("option"),i.textContent="Sunday",a=p("option"),a.textContent="Monday",o=p("option"),o.textContent="Tuesday",u=p("option"),u.textContent="Wednesday",d=p("option"),d.textContent="Thursday",f=p("option"),f.textContent="Friday",g=p("option"),g.textContent="Saturday",c(n,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"),i.__value=0,i.value=i.__value,a.__value=1,a.value=a.__value,o.__value=2,o.value=o.__value,u.__value=3,u.value=u.__value,d.__value=4,d.value=d.__value,f.__value=5,f.value=f.__value,g.__value=6,g.value=g.__value,c(l,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"),t[5].resetTime.weekday===void 0&&we(()=>t[28].call(l)),c(e,"class","flex-1")},m(b,y){M(b,e,y),s(e,n),s(e,r),s(e,l),s(l,i),s(l,a),s(l,o),s(l,u),s(l,d),s(l,f),s(l,g),$e(l,t[5].resetTime.weekday,!0),m||(k=H(l,"change",t[28]),m=!0)},p(b,y){y[0]&32&&$e(l,b[5].resetTime.weekday)},d(b){b&&T(e),m=!1,k()}}}function At(t){let e,n,r,l,i,a,o,u,d,f,g,m;function k(_,v){return _[0]?Ht:Lt}let b=k(t),y=b(t),h=t[6]&&t[5]&&Ze(t);return{c(){e=p("div"),n=p("div"),r=p("div"),l=p("div"),i=p("h2"),i.textContent="Create New Project",a=x(),o=p("button"),o.innerHTML='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',u=x(),y.c(),d=x(),h&&h.c(),f=xe(),c(i,"class","text-2xl font-bold text-gray-900 dark:text-white"),c(o,"class","text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"),c(l,"class","flex items-center justify-between mb-6"),c(r,"class","p-6"),c(n,"class","bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"),c(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50")},m(_,v){M(_,e,v),s(e,n),s(n,r),s(r,l),s(l,i),s(l,a),s(l,o),s(r,u),y.m(r,null),M(_,d,v),h&&h.m(_,v),M(_,f,v),g||(m=[H(o,"click",t[14]),H(e,"click",t[15])],g=!0)},p(_,v){b===(b=k(_))&&y?y.p(_,v):(y.d(1),y=b(_),y&&(y.c(),y.m(r,null))),_[6]&&_[5]?h?h.p(_,v):(h=Ze(_),h.c(),h.m(f.parentNode,f)):h&&(h.d(1),h=null)},i:Q,o:Q,d(_){_&&T(e),y.d(),_&&T(d),h&&h.d(_),_&&T(f),g=!1,ee(m)}}}function Se(){return Math.random().toString(36).substr(2,9)}const nt=t=>!t.isSection,rt=t=>t.isSection;function Bt(t,e,n){const r=bt();let l=!0,i=[],a=null,o="",u="",d=[],f=null,g=!1;ct(async()=>{await m()});async function m(){try{const S=["mmo-dailies","gacha-game"],O=await Promise.all(S.map(async Y=>{const pe=await fetch(`/todo/presets/${Y}.json`);return pe.ok?await pe.json():null}));n(1,i=O.filter(Y=>Y!==null))}catch(S){console.error("Failed to load presets:",S)}}function k(S){a=S,b()}function b(){if(!a)return;const S={id:Se(),name:a.name,description:a.description,items:a.items.map(O=>({...O,id:Se(),status:"pending",lastReset:0,parentId:null})),createdAt:Date.now(),isPreset:!0};ie.addProject(S),C()}function y(){n(0,l=!1),a=null}function h(){if(!o.trim())return;const S={id:Se(),name:o.trim(),description:u.trim()||void 0,items:d,createdAt:Date.now()};ie.addProject(S),C()}function _(){n(6,g=!0),n(5,f={id:Se(),name:"",description:"",status:"pending",resetTime:{type:"daily",time:"20:00"},lastReset:0,parentId:null,isSection:!1})}function v(){if(!(f!=null&&f.name.trim()))return;const S=d.findIndex(O=>O.id===f.id);S>=0?n(4,d[S]={...f},d):n(4,d=[...d,{...f}]),j()}function j(){n(5,f=null),n(6,g=!1)}function w(S){n(4,d=d.filter(O=>O.id!==S))}function C(){r("close")}function D(S){S.target===S.currentTarget&&C()}const $=[[]],L=S=>k(S),B=()=>n(0,l=!0);function z(){o=this.value,n(2,o)}function R(){u=this.value,n(3,u)}const V=S=>w(S.id);function G(){f.isSection=this.__value,n(5,f)}function U(){f.isSection=this.__value,n(5,f)}function E(){f.name=this.value,n(5,f)}function N(){f.description=this.value,n(5,f)}function I(){f.resetTime.type=Ne(this),n(5,f)}function F(){f.resetTime.time=this.value,n(5,f)}function re(){f.resetTime.weekday=Ne(this),n(5,f)}return[l,i,o,u,d,f,g,k,y,h,_,v,j,w,C,D,L,B,z,R,V,G,$,U,E,N,I,F,re]}class zt extends fe{constructor(e){super(),ue(this,e,Bt,At,ae,{},null,[-1,-1])}}function Ft(t){let e,n;return{c(){e=Z("svg"),n=Z("path"),c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(n,"stroke-width","2"),c(n,"d","M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"),c(e,"class","w-5 h-5"),c(e,"fill","none"),c(e,"stroke","currentColor"),c(e,"viewBox","0 0 24 24")},m(r,l){M(r,e,l),s(e,n)},d(r){r&&T(e)}}}function Jt(t){let e,n;return{c(){e=Z("svg"),n=Z("path"),c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(n,"stroke-width","2"),c(n,"d","M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"),c(e,"class","w-5 h-5"),c(e,"fill","none"),c(e,"stroke","currentColor"),c(e,"viewBox","0 0 24 24")},m(r,l){M(r,e,l),s(e,n)},d(r){r&&T(e)}}}function Rt(t){let e,n,r,l,i,a,o,u;function d(m,k){return m[0]==="light"?Jt:Ft}let f=d(t),g=f(t);return{c(){e=p("header"),n=p("div"),r=p("div"),l=p("div"),l.innerHTML=`<svg class="w-8 h-8 text-indigo-600 dark:text-indigo-400 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> 
        <span class="text-xl font-semibold text-gray-900 dark:text-white">Game TODO</span>`,i=x(),a=p("button"),g.c(),c(l,"class","flex items-center"),c(a,"class","p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"),c(a,"title","Toggle theme"),c(r,"class","flex justify-between items-center py-4"),c(n,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"),c(e,"class","bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700")},m(m,k){M(m,e,k),s(e,n),s(n,r),s(r,l),s(r,i),s(r,a),g.m(a,null),o||(u=H(a,"click",t[1]),o=!0)},p(m,[k]){f!==(f=d(m))&&(g.d(1),g=f(m),g&&(g.c(),g.m(a,null)))},i:Q,o:Q,d(m){m&&T(e),g.d(),o=!1,u()}}}function Vt(t,e,n){let r="light";ie.subscribe(i=>{n(0,r=i.settings.theme),typeof document<"u"&&document.documentElement.classList.toggle("dark",r==="dark")});function l(){const i=r==="light"?"dark":"light";ie.updateSettings({theme:i})}return[r,l]}class Wt extends fe{constructor(e){super(),ue(this,e,Vt,Rt,ae,{})}}function lt(t,e,n){const r=t.slice();return r[4]=e[n],r}function qt(t){let e,n=[],r=new Map,l,i=t[1];const a=o=>o[4].id;for(let o=0;o<i.length;o+=1){let u=lt(t,i,o),d=a(u);r.set(d,n[o]=it(d,u))}return{c(){e=p("div");for(let o=0;o<n.length;o+=1)n[o].c();c(e,"class","grid gap-6 md:grid-cols-2 lg:grid-cols-3")},m(o,u){M(o,e,u);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);l=!0},p(o,u){u&2&&(i=o[1],be(),n=je(n,u,a,1,o,i,r,e,De,it,null,lt),ke())},i(o){if(!l){for(let u=0;u<i.length;u+=1)J(n[u]);l=!0}},o(o){for(let u=0;u<n.length;u+=1)q(n[u]);l=!1},d(o){o&&T(e);for(let u=0;u<n.length;u+=1)n[u].d()}}}function Gt(t){let e,n,r,l,i,a,o,u,d,f,g;return{c(){e=p("div"),n=Z("svg"),r=Z("path"),l=x(),i=p("h2"),i.textContent="No TODO projects yet",a=x(),o=p("p"),o.textContent="Create your first project to start tracking game activities",u=x(),d=p("button"),d.innerHTML=`<svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
        Create Your First Project`,c(r,"stroke-linecap","round"),c(r,"stroke-linejoin","round"),c(r,"stroke-width","1"),c(r,"d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"),c(n,"class","w-24 h-24 mx-auto text-gray-300 dark:text-gray-600 mb-4"),c(n,"fill","none"),c(n,"stroke","currentColor"),c(n,"viewBox","0 0 24 24"),c(i,"class","text-xl font-semibold text-gray-900 dark:text-white mb-2"),c(o,"class","text-gray-600 dark:text-gray-300 mb-6"),c(d,"class","inline-flex items-center px-6 py-3 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-900 transition-colors"),c(e,"class","text-center py-12")},m(m,k){M(m,e,k),s(e,n),s(n,r),s(e,l),s(e,i),s(e,a),s(e,o),s(e,u),s(e,d),f||(g=H(d,"click",t[2]),f=!0)},p:Q,i:Q,o:Q,d(m){m&&T(e),f=!1,g()}}}function it(t,e){let n,r,l;return r=new Ot({props:{project:e[4]}}),{key:t,first:null,c(){n=xe(),ce(r.$$.fragment),this.first=n},m(i,a){M(i,n,a),oe(r,i,a),l=!0},p(i,a){e=i;const o={};a&2&&(o.project=e[4]),r.$set(o)},i(i){l||(J(r.$$.fragment,i),l=!0)},o(i){q(r.$$.fragment,i),l=!1},d(i){i&&T(n),se(r,i)}}}function ot(t){let e,n;return e=new zt({}),e.$on("close",t[3]),{c(){ce(e.$$.fragment)},m(r,l){oe(e,r,l),n=!0},p:Q,i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),n=!1},d(r){se(e,r)}}}function Kt(t){let e,n,r,l,i,a,o,u,d,f,g,m,k,b,y;e=new Wt({});const h=[Gt,qt],_=[];function v(w,C){return w[1].length===0?0:1}d=v(t),f=_[d]=h[d](t);let j=t[0]&&ot(t);return{c(){ce(e.$$.fragment),n=x(),r=p("main"),l=p("div"),i=p("div"),i.innerHTML=`<h1 class="text-3xl font-bold text-gray-900 dark:text-white">Game TODO Tracker</h1> 
      <p class="mt-2 text-gray-600 dark:text-gray-300">Track your daily and weekly game activities</p>`,a=x(),o=p("button"),o.innerHTML=`<svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
      Add TODO Project`,u=x(),f.c(),g=x(),j&&j.c(),m=xe(),c(o,"class","inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-900 transition-colors"),c(l,"class","flex justify-between items-center mb-8"),c(r,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8")},m(w,C){oe(e,w,C),M(w,n,C),M(w,r,C),s(r,l),s(l,i),s(l,a),s(l,o),s(r,u),_[d].m(r,null),M(w,g,C),j&&j.m(w,C),M(w,m,C),k=!0,b||(y=H(o,"click",t[2]),b=!0)},p(w,[C]){let D=d;d=v(w),d===D?_[d].p(w,C):(be(),q(_[D],1,1,()=>{_[D]=null}),ke(),f=_[d],f?f.p(w,C):(f=_[d]=h[d](w),f.c()),J(f,1),f.m(r,null)),w[0]?j?(j.p(w,C),C&1&&J(j,1)):(j=ot(w),j.c(),J(j,1),j.m(m.parentNode,m)):j&&(be(),q(j,1,1,()=>{j=null}),ke())},i(w){k||(J(e.$$.fragment,w),J(f),J(j),k=!0)},o(w){q(e.$$.fragment,w),q(f),q(j),k=!1},d(w){se(e,w),w&&T(n),w&&T(r),_[d].d(),w&&T(g),j&&j.d(w),w&&T(m),b=!1,y()}}}function Yt(t,e,n){let r=!1,l=[];ie.subscribe(o=>{n(1,l=o.projects)});function i(){n(0,r=!0)}function a(){n(0,r=!1)}return[r,l,i,a]}class Qt extends fe{constructor(e){super(),ue(this,e,Yt,Kt,ae,{})}}function Ut(t){let e,n,r,l,i;return e=new jt({}),l=new Qt({}),{c(){ce(e.$$.fragment),n=x(),r=p("div"),ce(l.$$.fragment),c(r,"class","min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors")},m(a,o){oe(e,a,o),M(a,n,o),M(a,r,o),oe(l,r,null),i=!0},p:Q,i(a){i||(J(e.$$.fragment,a),J(l.$$.fragment,a),i=!0)},o(a){q(e.$$.fragment,a),q(l.$$.fragment,a),i=!1},d(a){se(e,a),a&&T(n),a&&T(r),se(l)}}}function Xt(t){return ct(()=>{ie.init();const e=setInterval(()=>{ie.checkResets()},6e4);return()=>clearInterval(e)}),[]}class Zt extends fe{constructor(e){super(),ue(this,e,Xt,Ut,ae,{})}}new Zt({target:document.getElementById("app")});
